{"ast":null,"code":"import { igcToggle } from './toggle.directive.js';\nexport class IgcToggleController {\n  get abortController() {\n    if (this._abortController.signal.aborted) {\n      this._abortController = new AbortController();\n    }\n    return this._abortController;\n  }\n  set target(value) {\n    this._target = value;\n    this.update();\n  }\n  get target() {\n    return this._target;\n  }\n  constructor(host, config) {\n    this.initialScrollTop = 0;\n    this.initialScrollLeft = 0;\n    this._abortController = new AbortController();\n    this.blockScroll = event => {\n      var _a, _b, _c, _d;\n      event.preventDefault();\n      if (!this.sourceElement || this.sourceElement !== event.target) {\n        this.sourceElement = event.target;\n        this.initialScrollTop = (_a = this.sourceElement.scrollTop) !== null && _a !== void 0 ? _a : (_b = this.sourceElement.firstElementChild) === null || _b === void 0 ? void 0 : _b.scrollTop;\n        this.initialScrollLeft = (_c = this.sourceElement.scrollLeft) !== null && _c !== void 0 ? _c : (_d = this.sourceElement.firstElementChild) === null || _d === void 0 ? void 0 : _d.scrollLeft;\n      }\n      this.sourceElement.scrollTop = this.initialScrollTop;\n      this.sourceElement.scrollLeft = this.initialScrollLeft;\n      if (this.sourceElement.firstElementChild) {\n        this.sourceElement.firstElementChild.scrollTop = this.initialScrollTop;\n        this.sourceElement.firstElementChild.scrollLeft = this.initialScrollLeft;\n      }\n    };\n    this.documentClicked = event => {\n      if (!this.host.keepOpenOnOutsideClick) {\n        const tree = event.composed ? event.composedPath() : [event.target];\n        if (tree.includes(this.host) || tree.includes(this.target)) {\n          return;\n        }\n        this.hide();\n      }\n    };\n    this.handleScroll = event => {\n      switch (this.host.scrollStrategy) {\n        case 'scroll':\n          break;\n        case 'block':\n          this.blockScroll(event);\n          break;\n        case 'close':\n          this.hide();\n          break;\n      }\n    };\n    (this.host = host).addController(this);\n    if (config === null || config === void 0 ? void 0 : config.target) {\n      this._target = config.target;\n    }\n    if (config === null || config === void 0 ? void 0 : config.closeCallback) {\n      this._hide = config.closeCallback;\n    }\n    this.update();\n  }\n  hostDisconnected() {\n    this.abortController.abort();\n  }\n  update() {\n    this.toggleDirective = igcToggle(this.target, this.host, this);\n    this.configureListeners();\n  }\n  hide() {\n    this._hide ? this._hide() : this.host.hide();\n  }\n  addEventListeners() {\n    const options = {\n      capture: true,\n      signal: this.abortController.signal\n    };\n    if (!this.host.keepOpenOnOutsideClick) {\n      document.addEventListener('click', this.documentClicked, options);\n    }\n    document.addEventListener('scroll', this.handleScroll, options);\n  }\n  configureListeners() {\n    this.host.open ? this.addEventListeners() : this.abortController.abort();\n  }\n}","map":{"version":3,"names":["igcToggle","IgcToggleController","abortController","_abortController","signal","aborted","AbortController","target","value","_target","update","constructor","host","config","initialScrollTop","initialScrollLeft","blockScroll","event","_a","_b","_c","_d","preventDefault","sourceElement","scrollTop","firstElementChild","scrollLeft","documentClicked","keepOpenOnOutsideClick","tree","composed","composedPath","includes","hide","handleScroll","scrollStrategy","addController","closeCallback","_hide","hostDisconnected","abort","toggleDirective","configureListeners","addEventListeners","options","capture","document","addEventListener","open"],"sources":["/Users/tima/kbtu/4thSemester/web/Lab4/angular/node_modules/igniteui-webcomponents/components/toggle/toggle.controller.js"],"sourcesContent":["import { igcToggle } from './toggle.directive.js';\nexport class IgcToggleController {\n    get abortController() {\n        if (this._abortController.signal.aborted) {\n            this._abortController = new AbortController();\n        }\n        return this._abortController;\n    }\n    set target(value) {\n        this._target = value;\n        this.update();\n    }\n    get target() {\n        return this._target;\n    }\n    constructor(host, config) {\n        this.initialScrollTop = 0;\n        this.initialScrollLeft = 0;\n        this._abortController = new AbortController();\n        this.blockScroll = (event) => {\n            var _a, _b, _c, _d;\n            event.preventDefault();\n            if (!this.sourceElement || this.sourceElement !== event.target) {\n                this.sourceElement = event.target;\n                this.initialScrollTop =\n                    (_a = this.sourceElement.scrollTop) !== null && _a !== void 0 ? _a : (_b = this.sourceElement.firstElementChild) === null || _b === void 0 ? void 0 : _b.scrollTop;\n                this.initialScrollLeft =\n                    (_c = this.sourceElement.scrollLeft) !== null && _c !== void 0 ? _c : (_d = this.sourceElement.firstElementChild) === null || _d === void 0 ? void 0 : _d.scrollLeft;\n            }\n            this.sourceElement.scrollTop = this.initialScrollTop;\n            this.sourceElement.scrollLeft = this.initialScrollLeft;\n            if (this.sourceElement.firstElementChild) {\n                this.sourceElement.firstElementChild.scrollTop = this.initialScrollTop;\n                this.sourceElement.firstElementChild.scrollLeft = this.initialScrollLeft;\n            }\n        };\n        this.documentClicked = (event) => {\n            if (!this.host.keepOpenOnOutsideClick) {\n                const tree = event.composed ? event.composedPath() : [event.target];\n                if (tree.includes(this.host) || tree.includes(this.target)) {\n                    return;\n                }\n                this.hide();\n            }\n        };\n        this.handleScroll = (event) => {\n            switch (this.host.scrollStrategy) {\n                case 'scroll':\n                    break;\n                case 'block':\n                    this.blockScroll(event);\n                    break;\n                case 'close':\n                    this.hide();\n                    break;\n            }\n        };\n        (this.host = host).addController(this);\n        if (config === null || config === void 0 ? void 0 : config.target) {\n            this._target = config.target;\n        }\n        if (config === null || config === void 0 ? void 0 : config.closeCallback) {\n            this._hide = config.closeCallback;\n        }\n        this.update();\n    }\n    hostDisconnected() {\n        this.abortController.abort();\n    }\n    update() {\n        this.toggleDirective = igcToggle(this.target, this.host, this);\n        this.configureListeners();\n    }\n    hide() {\n        this._hide ? this._hide() : this.host.hide();\n    }\n    addEventListeners() {\n        const options = {\n            capture: true,\n            signal: this.abortController.signal,\n        };\n        if (!this.host.keepOpenOnOutsideClick) {\n            document.addEventListener('click', this.documentClicked, options);\n        }\n        document.addEventListener('scroll', this.handleScroll, options);\n    }\n    configureListeners() {\n        this.host.open ? this.addEventListeners() : this.abortController.abort();\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}