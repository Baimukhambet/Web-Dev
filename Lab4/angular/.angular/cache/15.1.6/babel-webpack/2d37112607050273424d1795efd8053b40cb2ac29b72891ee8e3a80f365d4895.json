{"ast":null,"code":"/**\n * Assert a condition.\n * @param condition The condition that it should satisfy.\n * @param message The error message.\n * @param args The arguments for replacing placeholders in the message.\n */\nfunction assertType(condition, message, ...args) {\n  if (!condition) {\n    throw new TypeError(format(message, args));\n  }\n}\n/**\n * Convert a text and arguments to one string.\n * @param message The formating text\n * @param args The arguments.\n */\nfunction format(message, args) {\n  let i = 0;\n  return message.replace(/%[os]/gu, () => anyToString(args[i++]));\n}\n/**\n * Convert a value to a string representation.\n * @param x The value to get the string representation.\n */\nfunction anyToString(x) {\n  if (typeof x !== \"object\" || x === null) {\n    return String(x);\n  }\n  return Object.prototype.toString.call(x);\n}\nlet currentErrorHandler;\n/**\n * Set the error handler.\n * @param value The error handler to set.\n */\nfunction setErrorHandler(value) {\n  assertType(typeof value === \"function\" || value === undefined, \"The error handler must be a function or undefined, but got %o.\", value);\n  currentErrorHandler = value;\n}\n/**\n * Print a error message.\n * @param maybeError The error object.\n */\nfunction reportError(maybeError) {\n  try {\n    const error = maybeError instanceof Error ? maybeError : new Error(anyToString(maybeError));\n    // Call the user-defined error handler if exists.\n    if (currentErrorHandler) {\n      currentErrorHandler(error);\n      return;\n    }\n    // Dispatch an `error` event if this is on a browser.\n    if (typeof dispatchEvent === \"function\" && typeof ErrorEvent === \"function\") {\n      dispatchEvent(new ErrorEvent(\"error\", {\n        error,\n        message: error.message\n      }));\n    }\n    // Emit an `uncaughtException` event if this is on Node.js.\n    //istanbul ignore else\n    else if (typeof process !== \"undefined\" && typeof process.emit === \"function\") {\n      process.emit(\"uncaughtException\", error);\n      return;\n    }\n    // Otherwise, print the error.\n    console.error(error);\n  } catch (_a) {\n    // ignore.\n  }\n}\n\n/**\n * The global object.\n */\n//istanbul ignore next\nconst Global = typeof window !== \"undefined\" ? window : typeof self !== \"undefined\" ? self : typeof global !== \"undefined\" ? global : typeof globalThis !== \"undefined\" ? globalThis : undefined;\nlet currentWarnHandler;\n/**\n * Set the warning handler.\n * @param value The warning handler to set.\n */\nfunction setWarningHandler(value) {\n  assertType(typeof value === \"function\" || value === undefined, \"The warning handler must be a function or undefined, but got %o.\", value);\n  currentWarnHandler = value;\n}\n/**\n * The warning information.\n */\nclass Warning {\n  constructor(code, message) {\n    this.code = code;\n    this.message = message;\n  }\n  /**\n   * Report this warning.\n   * @param args The arguments of the warning.\n   */\n  warn(...args) {\n    var _a;\n    try {\n      // Call the user-defined warning handler if exists.\n      if (currentWarnHandler) {\n        currentWarnHandler({\n          ...this,\n          args\n        });\n        return;\n      }\n      // Otherwise, print the warning.\n      const stack = ((_a = new Error().stack) !== null && _a !== void 0 ? _a : \"\").replace(/^(?:.+?\\n){2}/gu, \"\\n\");\n      console.warn(this.message, ...args, stack);\n    } catch (_b) {\n      // Ignore.\n    }\n  }\n}\nconst InitEventWasCalledWhileDispatching = new Warning(\"W01\", \"Unable to initialize event under dispatching.\");\nconst FalsyWasAssignedToCancelBubble = new Warning(\"W02\", \"Assigning any falsy value to 'cancelBubble' property has no effect.\");\nconst TruthyWasAssignedToReturnValue = new Warning(\"W03\", \"Assigning any truthy value to 'returnValue' property has no effect.\");\nconst NonCancelableEventWasCanceled = new Warning(\"W04\", \"Unable to preventDefault on non-cancelable events.\");\nconst CanceledInPassiveListener = new Warning(\"W05\", \"Unable to preventDefault inside passive event listener invocation.\");\nconst EventListenerWasDuplicated = new Warning(\"W06\", \"An event listener wasn't added because it has been added already: %o, %o\");\nconst OptionWasIgnored = new Warning(\"W07\", \"The %o option value was abandoned because the event listener wasn't added as duplicated.\");\nconst InvalidEventListener = new Warning(\"W08\", \"The 'callback' argument must be a function or an object that has 'handleEvent' method: %o\");\nconst InvalidAttributeHandler = new Warning(\"W09\", \"Event attribute handler must be a function: %o\");\n\n/*eslint-disable class-methods-use-this */\n/**\n * An implementation of `Event` interface, that wraps a given event object.\n * `EventTarget` shim can control the internal state of this `Event` objects.\n * @see https://dom.spec.whatwg.org/#event\n */\nclass Event {\n  /**\n   * @see https://dom.spec.whatwg.org/#dom-event-none\n   */\n  static get NONE() {\n    return NONE;\n  }\n  /**\n   * @see https://dom.spec.whatwg.org/#dom-event-capturing_phase\n   */\n  static get CAPTURING_PHASE() {\n    return CAPTURING_PHASE;\n  }\n  /**\n   * @see https://dom.spec.whatwg.org/#dom-event-at_target\n   */\n  static get AT_TARGET() {\n    return AT_TARGET;\n  }\n  /**\n   * @see https://dom.spec.whatwg.org/#dom-event-bubbling_phase\n   */\n  static get BUBBLING_PHASE() {\n    return BUBBLING_PHASE;\n  }\n  /**\n   * Initialize this event instance.\n   * @param type The type of this event.\n   * @param eventInitDict Options to initialize.\n   * @see https://dom.spec.whatwg.org/#dom-event-event\n   */\n  constructor(type, eventInitDict) {\n    Object.defineProperty(this, \"isTrusted\", {\n      value: false,\n      enumerable: true\n    });\n    const opts = eventInitDict !== null && eventInitDict !== void 0 ? eventInitDict : {};\n    internalDataMap.set(this, {\n      type: String(type),\n      bubbles: Boolean(opts.bubbles),\n      cancelable: Boolean(opts.cancelable),\n      composed: Boolean(opts.composed),\n      target: null,\n      currentTarget: null,\n      stopPropagationFlag: false,\n      stopImmediatePropagationFlag: false,\n      canceledFlag: false,\n      inPassiveListenerFlag: false,\n      dispatchFlag: false,\n      timeStamp: Date.now()\n    });\n  }\n  /**\n   * The type of this event.\n   * @see https://dom.spec.whatwg.org/#dom-event-type\n   */\n  get type() {\n    return $(this).type;\n  }\n  /**\n   * The event target of the current dispatching.\n   * @see https://dom.spec.whatwg.org/#dom-event-target\n   */\n  get target() {\n    return $(this).target;\n  }\n  /**\n   * The event target of the current dispatching.\n   * @deprecated Use the `target` property instead.\n   * @see https://dom.spec.whatwg.org/#dom-event-srcelement\n   */\n  get srcElement() {\n    return $(this).target;\n  }\n  /**\n   * The event target of the current dispatching.\n   * @see https://dom.spec.whatwg.org/#dom-event-currenttarget\n   */\n  get currentTarget() {\n    return $(this).currentTarget;\n  }\n  /**\n   * The event target of the current dispatching.\n   * This doesn't support node tree.\n   * @see https://dom.spec.whatwg.org/#dom-event-composedpath\n   */\n  composedPath() {\n    const currentTarget = $(this).currentTarget;\n    if (currentTarget) {\n      return [currentTarget];\n    }\n    return [];\n  }\n  /**\n   * @see https://dom.spec.whatwg.org/#dom-event-none\n   */\n  get NONE() {\n    return NONE;\n  }\n  /**\n   * @see https://dom.spec.whatwg.org/#dom-event-capturing_phase\n   */\n  get CAPTURING_PHASE() {\n    return CAPTURING_PHASE;\n  }\n  /**\n   * @see https://dom.spec.whatwg.org/#dom-event-at_target\n   */\n  get AT_TARGET() {\n    return AT_TARGET;\n  }\n  /**\n   * @see https://dom.spec.whatwg.org/#dom-event-bubbling_phase\n   */\n  get BUBBLING_PHASE() {\n    return BUBBLING_PHASE;\n  }\n  /**\n   * The current event phase.\n   * @see https://dom.spec.whatwg.org/#dom-event-eventphase\n   */\n  get eventPhase() {\n    return $(this).dispatchFlag ? 2 : 0;\n  }\n  /**\n   * Stop event bubbling.\n   * Because this shim doesn't support node tree, this merely changes the `cancelBubble` property value.\n   * @see https://dom.spec.whatwg.org/#dom-event-stoppropagation\n   */\n  stopPropagation() {\n    $(this).stopPropagationFlag = true;\n  }\n  /**\n   * `true` if event bubbling was stopped.\n   * @deprecated\n   * @see https://dom.spec.whatwg.org/#dom-event-cancelbubble\n   */\n  get cancelBubble() {\n    return $(this).stopPropagationFlag;\n  }\n  /**\n   * Stop event bubbling if `true` is set.\n   * @deprecated Use the `stopPropagation()` method instead.\n   * @see https://dom.spec.whatwg.org/#dom-event-cancelbubble\n   */\n  set cancelBubble(value) {\n    if (value) {\n      $(this).stopPropagationFlag = true;\n    } else {\n      FalsyWasAssignedToCancelBubble.warn();\n    }\n  }\n  /**\n   * Stop event bubbling and subsequent event listener callings.\n   * @see https://dom.spec.whatwg.org/#dom-event-stopimmediatepropagation\n   */\n  stopImmediatePropagation() {\n    const data = $(this);\n    data.stopPropagationFlag = data.stopImmediatePropagationFlag = true;\n  }\n  /**\n   * `true` if this event will bubble.\n   * @see https://dom.spec.whatwg.org/#dom-event-bubbles\n   */\n  get bubbles() {\n    return $(this).bubbles;\n  }\n  /**\n   * `true` if this event can be canceled by the `preventDefault()` method.\n   * @see https://dom.spec.whatwg.org/#dom-event-cancelable\n   */\n  get cancelable() {\n    return $(this).cancelable;\n  }\n  /**\n   * `true` if the default behavior will act.\n   * @deprecated Use the `defaultPrevented` proeprty instead.\n   * @see https://dom.spec.whatwg.org/#dom-event-returnvalue\n   */\n  get returnValue() {\n    return !$(this).canceledFlag;\n  }\n  /**\n   * Cancel the default behavior if `false` is set.\n   * @deprecated Use the `preventDefault()` method instead.\n   * @see https://dom.spec.whatwg.org/#dom-event-returnvalue\n   */\n  set returnValue(value) {\n    if (!value) {\n      setCancelFlag($(this));\n    } else {\n      TruthyWasAssignedToReturnValue.warn();\n    }\n  }\n  /**\n   * Cancel the default behavior.\n   * @see https://dom.spec.whatwg.org/#dom-event-preventdefault\n   */\n  preventDefault() {\n    setCancelFlag($(this));\n  }\n  /**\n   * `true` if the default behavior was canceled.\n   * @see https://dom.spec.whatwg.org/#dom-event-defaultprevented\n   */\n  get defaultPrevented() {\n    return $(this).canceledFlag;\n  }\n  /**\n   * @see https://dom.spec.whatwg.org/#dom-event-composed\n   */\n  get composed() {\n    return $(this).composed;\n  }\n  /**\n   * @see https://dom.spec.whatwg.org/#dom-event-istrusted\n   */\n  //istanbul ignore next\n  get isTrusted() {\n    return false;\n  }\n  /**\n   * @see https://dom.spec.whatwg.org/#dom-event-timestamp\n   */\n  get timeStamp() {\n    return $(this).timeStamp;\n  }\n  /**\n   * @deprecated Don't use this method. The constructor did initialization.\n   */\n  initEvent(type, bubbles = false, cancelable = false) {\n    const data = $(this);\n    if (data.dispatchFlag) {\n      InitEventWasCalledWhileDispatching.warn();\n      return;\n    }\n    internalDataMap.set(this, {\n      ...data,\n      type: String(type),\n      bubbles: Boolean(bubbles),\n      cancelable: Boolean(cancelable),\n      target: null,\n      currentTarget: null,\n      stopPropagationFlag: false,\n      stopImmediatePropagationFlag: false,\n      canceledFlag: false\n    });\n  }\n}\n//------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\nconst NONE = 0;\nconst CAPTURING_PHASE = 1;\nconst AT_TARGET = 2;\nconst BUBBLING_PHASE = 3;\n/**\n * Private data for event wrappers.\n */\nconst internalDataMap = new WeakMap();\n/**\n * Get private data.\n * @param event The event object to get private data.\n * @param name The variable name to report.\n * @returns The private data of the event.\n */\nfunction $(event, name = \"this\") {\n  const retv = internalDataMap.get(event);\n  assertType(retv != null, \"'%s' must be an object that Event constructor created, but got another one: %o\", name, event);\n  return retv;\n}\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data private data.\n */\nfunction setCancelFlag(data) {\n  if (data.inPassiveListenerFlag) {\n    CanceledInPassiveListener.warn();\n    return;\n  }\n  if (!data.cancelable) {\n    NonCancelableEventWasCanceled.warn();\n    return;\n  }\n  data.canceledFlag = true;\n}\n// Set enumerable\nObject.defineProperty(Event, \"NONE\", {\n  enumerable: true\n});\nObject.defineProperty(Event, \"CAPTURING_PHASE\", {\n  enumerable: true\n});\nObject.defineProperty(Event, \"AT_TARGET\", {\n  enumerable: true\n});\nObject.defineProperty(Event, \"BUBBLING_PHASE\", {\n  enumerable: true\n});\nconst keys = Object.getOwnPropertyNames(Event.prototype);\nfor (let i = 0; i < keys.length; ++i) {\n  if (keys[i] === \"constructor\") {\n    continue;\n  }\n  Object.defineProperty(Event.prototype, keys[i], {\n    enumerable: true\n  });\n}\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof Global !== \"undefined\" && typeof Global.Event !== \"undefined\") {\n  Object.setPrototypeOf(Event.prototype, Global.Event.prototype);\n}\n\n/**\n * Create a new InvalidStateError instance.\n * @param message The error message.\n */\nfunction createInvalidStateError(message) {\n  if (Global.DOMException) {\n    return new Global.DOMException(message, \"InvalidStateError\");\n  }\n  if (DOMException == null) {\n    DOMException = class DOMException extends Error {\n      constructor(msg) {\n        super(msg);\n        if (Error.captureStackTrace) {\n          Error.captureStackTrace(this, DOMException);\n        }\n      }\n      // eslint-disable-next-line class-methods-use-this\n      get code() {\n        return 11;\n      }\n      // eslint-disable-next-line class-methods-use-this\n      get name() {\n        return \"InvalidStateError\";\n      }\n    };\n    Object.defineProperties(DOMException.prototype, {\n      code: {\n        enumerable: true\n      },\n      name: {\n        enumerable: true\n      }\n    });\n    defineErrorCodeProperties(DOMException);\n    defineErrorCodeProperties(DOMException.prototype);\n  }\n  return new DOMException(message);\n}\n//------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\nlet DOMException;\nconst ErrorCodeMap = {\n  INDEX_SIZE_ERR: 1,\n  DOMSTRING_SIZE_ERR: 2,\n  HIERARCHY_REQUEST_ERR: 3,\n  WRONG_DOCUMENT_ERR: 4,\n  INVALID_CHARACTER_ERR: 5,\n  NO_DATA_ALLOWED_ERR: 6,\n  NO_MODIFICATION_ALLOWED_ERR: 7,\n  NOT_FOUND_ERR: 8,\n  NOT_SUPPORTED_ERR: 9,\n  INUSE_ATTRIBUTE_ERR: 10,\n  INVALID_STATE_ERR: 11,\n  SYNTAX_ERR: 12,\n  INVALID_MODIFICATION_ERR: 13,\n  NAMESPACE_ERR: 14,\n  INVALID_ACCESS_ERR: 15,\n  VALIDATION_ERR: 16,\n  TYPE_MISMATCH_ERR: 17,\n  SECURITY_ERR: 18,\n  NETWORK_ERR: 19,\n  ABORT_ERR: 20,\n  URL_MISMATCH_ERR: 21,\n  QUOTA_EXCEEDED_ERR: 22,\n  TIMEOUT_ERR: 23,\n  INVALID_NODE_TYPE_ERR: 24,\n  DATA_CLONE_ERR: 25\n};\nfunction defineErrorCodeProperties(obj) {\n  const keys = Object.keys(ErrorCodeMap);\n  for (let i = 0; i < keys.length; ++i) {\n    const key = keys[i];\n    const value = ErrorCodeMap[key];\n    Object.defineProperty(obj, key, {\n      get() {\n        return value;\n      },\n      configurable: true,\n      enumerable: true\n    });\n  }\n}\n\n/**\n * An implementation of `Event` interface, that wraps a given event object.\n * This class controls the internal state of `Event`.\n * @see https://dom.spec.whatwg.org/#interface-event\n */\nclass EventWrapper extends Event {\n  /**\n   * Wrap a given event object to control states.\n   * @param event The event-like object to wrap.\n   */\n  static wrap(event) {\n    return new (getWrapperClassOf(event))(event);\n  }\n  constructor(event) {\n    super(event.type, {\n      bubbles: event.bubbles,\n      cancelable: event.cancelable,\n      composed: event.composed\n    });\n    if (event.cancelBubble) {\n      super.stopPropagation();\n    }\n    if (event.defaultPrevented) {\n      super.preventDefault();\n    }\n    internalDataMap$1.set(this, {\n      original: event\n    });\n    // Define accessors\n    const keys = Object.keys(event);\n    for (let i = 0; i < keys.length; ++i) {\n      const key = keys[i];\n      if (!(key in this)) {\n        Object.defineProperty(this, key, defineRedirectDescriptor(event, key));\n      }\n    }\n  }\n  stopPropagation() {\n    super.stopPropagation();\n    const {\n      original\n    } = $$1(this);\n    if (\"stopPropagation\" in original) {\n      original.stopPropagation();\n    }\n  }\n  get cancelBubble() {\n    return super.cancelBubble;\n  }\n  set cancelBubble(value) {\n    super.cancelBubble = value;\n    const {\n      original\n    } = $$1(this);\n    if (\"cancelBubble\" in original) {\n      original.cancelBubble = value;\n    }\n  }\n  stopImmediatePropagation() {\n    super.stopImmediatePropagation();\n    const {\n      original\n    } = $$1(this);\n    if (\"stopImmediatePropagation\" in original) {\n      original.stopImmediatePropagation();\n    }\n  }\n  get returnValue() {\n    return super.returnValue;\n  }\n  set returnValue(value) {\n    super.returnValue = value;\n    const {\n      original\n    } = $$1(this);\n    if (\"returnValue\" in original) {\n      original.returnValue = value;\n    }\n  }\n  preventDefault() {\n    super.preventDefault();\n    const {\n      original\n    } = $$1(this);\n    if (\"preventDefault\" in original) {\n      original.preventDefault();\n    }\n  }\n  get timeStamp() {\n    const {\n      original\n    } = $$1(this);\n    if (\"timeStamp\" in original) {\n      return original.timeStamp;\n    }\n    return super.timeStamp;\n  }\n}\n/**\n * Private data for event wrappers.\n */\nconst internalDataMap$1 = new WeakMap();\n/**\n * Get private data.\n * @param event The event object to get private data.\n * @returns The private data of the event.\n */\nfunction $$1(event) {\n  const retv = internalDataMap$1.get(event);\n  assertType(retv != null, \"'this' is expected an Event object, but got\", event);\n  return retv;\n}\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrapperClassCache = new WeakMap();\n// Make association for wrappers.\nwrapperClassCache.set(Object.prototype, EventWrapper);\nif (typeof Global !== \"undefined\" && typeof Global.Event !== \"undefined\") {\n  wrapperClassCache.set(Global.Event.prototype, EventWrapper);\n}\n/**\n * Get the wrapper class of a given prototype.\n * @param originalEvent The event object to wrap.\n */\nfunction getWrapperClassOf(originalEvent) {\n  const prototype = Object.getPrototypeOf(originalEvent);\n  if (prototype == null) {\n    return EventWrapper;\n  }\n  let wrapper = wrapperClassCache.get(prototype);\n  if (wrapper == null) {\n    wrapper = defineWrapper(getWrapperClassOf(prototype), prototype);\n    wrapperClassCache.set(prototype, wrapper);\n  }\n  return wrapper;\n}\n/**\n * Define new wrapper class.\n * @param BaseEventWrapper The base wrapper class.\n * @param originalPrototype The prototype of the original event.\n */\nfunction defineWrapper(BaseEventWrapper, originalPrototype) {\n  class CustomEventWrapper extends BaseEventWrapper {}\n  const keys = Object.keys(originalPrototype);\n  for (let i = 0; i < keys.length; ++i) {\n    Object.defineProperty(CustomEventWrapper.prototype, keys[i], defineRedirectDescriptor(originalPrototype, keys[i]));\n  }\n  return CustomEventWrapper;\n}\n/**\n * Get the property descriptor to redirect a given property.\n */\nfunction defineRedirectDescriptor(obj, key) {\n  const d = Object.getOwnPropertyDescriptor(obj, key);\n  return {\n    get() {\n      const original = $$1(this).original;\n      const value = original[key];\n      if (typeof value === \"function\") {\n        return value.bind(original);\n      }\n      return value;\n    },\n    set(value) {\n      const original = $$1(this).original;\n      original[key] = value;\n    },\n    configurable: d.configurable,\n    enumerable: d.enumerable\n  };\n}\n\n/**\n * Create a new listener.\n * @param callback The callback function.\n * @param capture The capture flag.\n * @param passive The passive flag.\n * @param once The once flag.\n * @param signal The abort signal.\n * @param signalListener The abort event listener for the abort signal.\n */\nfunction createListener(callback, capture, passive, once, signal, signalListener) {\n  return {\n    callback,\n    flags: (capture ? 1 /* Capture */ : 0) | (passive ? 2 /* Passive */ : 0) | (once ? 4 /* Once */ : 0),\n    signal,\n    signalListener\n  };\n}\n/**\n * Set the `removed` flag to the given listener.\n * @param listener The listener to check.\n */\nfunction setRemoved(listener) {\n  listener.flags |= 8 /* Removed */;\n}\n/**\n * Check if the given listener has the `capture` flag or not.\n * @param listener The listener to check.\n */\nfunction isCapture(listener) {\n  return (listener.flags & 1 /* Capture */) === 1 /* Capture */;\n}\n/**\n * Check if the given listener has the `passive` flag or not.\n * @param listener The listener to check.\n */\nfunction isPassive(listener) {\n  return (listener.flags & 2 /* Passive */) === 2 /* Passive */;\n}\n/**\n * Check if the given listener has the `once` flag or not.\n * @param listener The listener to check.\n */\nfunction isOnce(listener) {\n  return (listener.flags & 4 /* Once */) === 4 /* Once */;\n}\n/**\n * Check if the given listener has the `removed` flag or not.\n * @param listener The listener to check.\n */\nfunction isRemoved(listener) {\n  return (listener.flags & 8 /* Removed */) === 8 /* Removed */;\n}\n/**\n * Call an event listener.\n * @param listener The listener to call.\n * @param target The event target object for `thisArg`.\n * @param event The event object for the first argument.\n * @param attribute `true` if this callback is an event attribute handler.\n */\nfunction invokeCallback({\n  callback\n}, target, event) {\n  try {\n    if (typeof callback === \"function\") {\n      callback.call(target, event);\n    } else if (typeof callback.handleEvent === \"function\") {\n      callback.handleEvent(event);\n    }\n  } catch (thrownError) {\n    reportError(thrownError);\n  }\n}\n\n/**\n * Find the index of given listener.\n * This returns `-1` if not found.\n * @param list The listener list.\n * @param callback The callback function to find.\n * @param capture The capture flag to find.\n */\nfunction findIndexOfListener({\n  listeners\n}, callback, capture) {\n  for (let i = 0; i < listeners.length; ++i) {\n    if (listeners[i].callback === callback && isCapture(listeners[i]) === capture) {\n      return i;\n    }\n  }\n  return -1;\n}\n/**\n * Add the given listener.\n * Does copy-on-write if needed.\n * @param list The listener list.\n * @param callback The callback function.\n * @param capture The capture flag.\n * @param passive The passive flag.\n * @param once The once flag.\n * @param signal The abort signal.\n */\nfunction addListener(list, callback, capture, passive, once, signal) {\n  let signalListener;\n  if (signal) {\n    signalListener = removeListener.bind(null, list, callback, capture);\n    signal.addEventListener(\"abort\", signalListener);\n  }\n  const listener = createListener(callback, capture, passive, once, signal, signalListener);\n  if (list.cow) {\n    list.cow = false;\n    list.listeners = [...list.listeners, listener];\n  } else {\n    list.listeners.push(listener);\n  }\n  return listener;\n}\n/**\n * Remove a listener.\n * @param list The listener list.\n * @param callback The callback function to find.\n * @param capture The capture flag to find.\n * @returns `true` if it mutated the list directly.\n */\nfunction removeListener(list, callback, capture) {\n  const index = findIndexOfListener(list, callback, capture);\n  if (index !== -1) {\n    return removeListenerAt(list, index);\n  }\n  return false;\n}\n/**\n * Remove a listener.\n * @param list The listener list.\n * @param index The index of the target listener.\n * @param disableCow Disable copy-on-write if true.\n * @returns `true` if it mutated the `listeners` array directly.\n */\nfunction removeListenerAt(list, index, disableCow = false) {\n  const listener = list.listeners[index];\n  // Set the removed flag.\n  setRemoved(listener);\n  // Dispose the abort signal listener if exists.\n  if (listener.signal) {\n    listener.signal.removeEventListener(\"abort\", listener.signalListener);\n  }\n  // Remove it from the array.\n  if (list.cow && !disableCow) {\n    list.cow = false;\n    list.listeners = list.listeners.filter((_, i) => i !== index);\n    return false;\n  }\n  list.listeners.splice(index, 1);\n  return true;\n}\n\n/**\n * Create a new `ListenerListMap` object.\n */\nfunction createListenerListMap() {\n  return Object.create(null);\n}\n/**\n * Get the listener list of the given type.\n * If the listener list has not been initialized, initialize and return it.\n * @param listenerMap The listener list map.\n * @param type The event type to get.\n */\nfunction ensureListenerList(listenerMap, type) {\n  var _a;\n  return (_a = listenerMap[type]) !== null && _a !== void 0 ? _a : listenerMap[type] = {\n    attrCallback: undefined,\n    attrListener: undefined,\n    cow: false,\n    listeners: []\n  };\n}\n\n/**\n * An implementation of the `EventTarget` interface.\n * @see https://dom.spec.whatwg.org/#eventtarget\n */\nclass EventTarget {\n  /**\n   * Initialize this instance.\n   */\n  constructor() {\n    internalDataMap$2.set(this, createListenerListMap());\n  }\n  // Implementation\n  addEventListener(type0, callback0, options0) {\n    const listenerMap = $$2(this);\n    const {\n      callback,\n      capture,\n      once,\n      passive,\n      signal,\n      type\n    } = normalizeAddOptions(type0, callback0, options0);\n    if (callback == null || (signal === null || signal === void 0 ? void 0 : signal.aborted)) {\n      return;\n    }\n    const list = ensureListenerList(listenerMap, type);\n    // Find existing listener.\n    const i = findIndexOfListener(list, callback, capture);\n    if (i !== -1) {\n      warnDuplicate(list.listeners[i], passive, once, signal);\n      return;\n    }\n    // Add the new listener.\n    addListener(list, callback, capture, passive, once, signal);\n  }\n  // Implementation\n  removeEventListener(type0, callback0, options0) {\n    const listenerMap = $$2(this);\n    const {\n      callback,\n      capture,\n      type\n    } = normalizeOptions(type0, callback0, options0);\n    const list = listenerMap[type];\n    if (callback != null && list) {\n      removeListener(list, callback, capture);\n    }\n  }\n  // Implementation\n  dispatchEvent(e) {\n    const list = $$2(this)[String(e.type)];\n    if (list == null) {\n      return true;\n    }\n    const event = e instanceof Event ? e : EventWrapper.wrap(e);\n    const eventData = $(event, \"event\");\n    if (eventData.dispatchFlag) {\n      throw createInvalidStateError(\"This event has been in dispatching.\");\n    }\n    eventData.dispatchFlag = true;\n    eventData.target = eventData.currentTarget = this;\n    if (!eventData.stopPropagationFlag) {\n      const {\n        cow,\n        listeners\n      } = list;\n      // Set copy-on-write flag.\n      list.cow = true;\n      // Call listeners.\n      for (let i = 0; i < listeners.length; ++i) {\n        const listener = listeners[i];\n        // Skip if removed.\n        if (isRemoved(listener)) {\n          continue;\n        }\n        // Remove this listener if has the `once` flag.\n        if (isOnce(listener) && removeListenerAt(list, i, !cow)) {\n          // Because this listener was removed, the next index is the\n          // same as the current value.\n          i -= 1;\n        }\n        // Call this listener with the `passive` flag.\n        eventData.inPassiveListenerFlag = isPassive(listener);\n        invokeCallback(listener, this, event);\n        eventData.inPassiveListenerFlag = false;\n        // Stop if the `event.stopImmediatePropagation()` method was called.\n        if (eventData.stopImmediatePropagationFlag) {\n          break;\n        }\n      }\n      // Restore copy-on-write flag.\n      if (!cow) {\n        list.cow = false;\n      }\n    }\n    eventData.target = null;\n    eventData.currentTarget = null;\n    eventData.stopImmediatePropagationFlag = false;\n    eventData.stopPropagationFlag = false;\n    eventData.dispatchFlag = false;\n    return !eventData.canceledFlag;\n  }\n}\n/**\n * Internal data.\n */\nconst internalDataMap$2 = new WeakMap();\n/**\n * Get private data.\n * @param target The event target object to get private data.\n * @param name The variable name to report.\n * @returns The private data of the event.\n */\nfunction $$2(target, name = \"this\") {\n  const retv = internalDataMap$2.get(target);\n  assertType(retv != null, \"'%s' must be an object that EventTarget constructor created, but got another one: %o\", name, target);\n  return retv;\n}\n/**\n * Normalize options.\n * @param options The options to normalize.\n */\nfunction normalizeAddOptions(type, callback, options) {\n  var _a;\n  assertCallback(callback);\n  if (typeof options === \"object\" && options !== null) {\n    return {\n      type: String(type),\n      callback: callback !== null && callback !== void 0 ? callback : undefined,\n      capture: Boolean(options.capture),\n      passive: Boolean(options.passive),\n      once: Boolean(options.once),\n      signal: (_a = options.signal) !== null && _a !== void 0 ? _a : undefined\n    };\n  }\n  return {\n    type: String(type),\n    callback: callback !== null && callback !== void 0 ? callback : undefined,\n    capture: Boolean(options),\n    passive: false,\n    once: false,\n    signal: undefined\n  };\n}\n/**\n * Normalize options.\n * @param options The options to normalize.\n */\nfunction normalizeOptions(type, callback, options) {\n  assertCallback(callback);\n  if (typeof options === \"object\" && options !== null) {\n    return {\n      type: String(type),\n      callback: callback !== null && callback !== void 0 ? callback : undefined,\n      capture: Boolean(options.capture)\n    };\n  }\n  return {\n    type: String(type),\n    callback: callback !== null && callback !== void 0 ? callback : undefined,\n    capture: Boolean(options)\n  };\n}\n/**\n * Assert the type of 'callback' argument.\n * @param callback The callback to check.\n */\nfunction assertCallback(callback) {\n  if (typeof callback === \"function\" || typeof callback === \"object\" && callback !== null && typeof callback.handleEvent === \"function\") {\n    return;\n  }\n  if (callback == null || typeof callback === \"object\") {\n    InvalidEventListener.warn(callback);\n    return;\n  }\n  throw new TypeError(format(InvalidEventListener.message, [callback]));\n}\n/**\n * Print warning for duplicated.\n * @param listener The current listener that is duplicated.\n * @param passive The passive flag of the new duplicated listener.\n * @param once The once flag of the new duplicated listener.\n * @param signal The signal object of the new duplicated listener.\n */\nfunction warnDuplicate(listener, passive, once, signal) {\n  EventListenerWasDuplicated.warn(isCapture(listener) ? \"capture\" : \"bubble\", listener.callback);\n  if (isPassive(listener) !== passive) {\n    OptionWasIgnored.warn(\"passive\");\n  }\n  if (isOnce(listener) !== once) {\n    OptionWasIgnored.warn(\"once\");\n  }\n  if (listener.signal !== signal) {\n    OptionWasIgnored.warn(\"signal\");\n  }\n}\n// Set enumerable\nconst keys$1 = Object.getOwnPropertyNames(EventTarget.prototype);\nfor (let i = 0; i < keys$1.length; ++i) {\n  if (keys$1[i] === \"constructor\") {\n    continue;\n  }\n  Object.defineProperty(EventTarget.prototype, keys$1[i], {\n    enumerable: true\n  });\n}\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (typeof Global !== \"undefined\" && typeof Global.EventTarget !== \"undefined\") {\n  Object.setPrototypeOf(EventTarget.prototype, Global.EventTarget.prototype);\n}\n\n/**\n * Get the current value of a given event attribute.\n * @param target The `EventTarget` object to get.\n * @param type The event type.\n */\nfunction getEventAttributeValue(target, type) {\n  var _a, _b;\n  const listMap = $$2(target, \"target\");\n  return (_b = (_a = listMap[type]) === null || _a === void 0 ? void 0 : _a.attrCallback) !== null && _b !== void 0 ? _b : null;\n}\n/**\n * Set an event listener to a given event attribute.\n * @param target The `EventTarget` object to set.\n * @param type The event type.\n * @param callback The event listener.\n */\nfunction setEventAttributeValue(target, type, callback) {\n  if (callback != null && typeof callback !== \"function\") {\n    InvalidAttributeHandler.warn(callback);\n  }\n  if (typeof callback === \"function\" || typeof callback === \"object\" && callback !== null) {\n    upsertEventAttributeListener(target, type, callback);\n  } else {\n    removeEventAttributeListener(target, type);\n  }\n}\n//------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n/**\n * Update or insert the given event attribute handler.\n * @param target The `EventTarget` object to set.\n * @param type The event type.\n * @param callback The event listener.\n */\nfunction upsertEventAttributeListener(target, type, callback) {\n  const list = ensureListenerList($$2(target, \"target\"), String(type));\n  list.attrCallback = callback;\n  if (list.attrListener == null) {\n    list.attrListener = addListener(list, defineEventAttributeCallback(list), false, false, false, undefined);\n  }\n}\n/**\n * Remove the given event attribute handler.\n * @param target The `EventTarget` object to remove.\n * @param type The event type.\n * @param callback The event listener.\n */\nfunction removeEventAttributeListener(target, type) {\n  const listMap = $$2(target, \"target\");\n  const list = listMap[String(type)];\n  if (list && list.attrListener) {\n    removeListener(list, list.attrListener.callback, false);\n    list.attrCallback = list.attrListener = undefined;\n  }\n}\n/**\n * Define the callback function for the given listener list object.\n * It calls `attrCallback` property if the property value is a function.\n * @param list The `ListenerList` object.\n */\nfunction defineEventAttributeCallback(list) {\n  return function (event) {\n    const callback = list.attrCallback;\n    if (typeof callback === \"function\") {\n      callback.call(this, event);\n    }\n  };\n}\n\n/**\n * Define an `EventTarget` class that has event attibutes.\n * @param types The types to define event attributes.\n * @deprecated Use `getEventAttributeValue`/`setEventAttributeValue` pair on your derived class instead because of static analysis friendly.\n */\nfunction defineCustomEventTarget(...types) {\n  class CustomEventTarget extends EventTarget {}\n  for (let i = 0; i < types.length; ++i) {\n    defineEventAttribute(CustomEventTarget.prototype, types[i]);\n  }\n  return CustomEventTarget;\n}\n/**\n * Define an event attribute.\n * @param target The `EventTarget` object to define an event attribute.\n * @param type The event type to define.\n * @param _eventClass Unused, but to infer `Event` class type.\n * @deprecated Use `getEventAttributeValue`/`setEventAttributeValue` pair on your derived class instead because of static analysis friendly.\n */\nfunction defineEventAttribute(target, type, _eventClass) {\n  Object.defineProperty(target, `on${type}`, {\n    get() {\n      return getEventAttributeValue(this, type);\n    },\n    set(value) {\n      setEventAttributeValue(this, type, value);\n    },\n    configurable: true,\n    enumerable: true\n  });\n}\nexport default EventTarget;\nexport { Event, EventTarget, defineCustomEventTarget, defineEventAttribute, getEventAttributeValue, setErrorHandler, setEventAttributeValue, setWarningHandler };","map":{"version":3,"names":["assertType","condition","message","args","TypeError","format","i","replace","anyToString","x","String","Object","prototype","toString","call","currentErrorHandler","setErrorHandler","value","undefined","reportError","maybeError","error","Error","dispatchEvent","ErrorEvent","process","emit","console","_a","Global","window","self","global","globalThis","currentWarnHandler","setWarningHandler","Warning","constructor","code","warn","stack","_b","InitEventWasCalledWhileDispatching","FalsyWasAssignedToCancelBubble","TruthyWasAssignedToReturnValue","NonCancelableEventWasCanceled","CanceledInPassiveListener","EventListenerWasDuplicated","OptionWasIgnored","InvalidEventListener","InvalidAttributeHandler","Event","NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","type","eventInitDict","defineProperty","enumerable","opts","internalDataMap","set","bubbles","Boolean","cancelable","composed","target","currentTarget","stopPropagationFlag","stopImmediatePropagationFlag","canceledFlag","inPassiveListenerFlag","dispatchFlag","timeStamp","Date","now","$","srcElement","composedPath","eventPhase","stopPropagation","cancelBubble","stopImmediatePropagation","data","returnValue","setCancelFlag","preventDefault","defaultPrevented","isTrusted","initEvent","WeakMap","event","name","retv","get","keys","getOwnPropertyNames","length","setPrototypeOf","createInvalidStateError","DOMException","msg","captureStackTrace","defineProperties","defineErrorCodeProperties","ErrorCodeMap","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","HIERARCHY_REQUEST_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","NOT_FOUND_ERR","NOT_SUPPORTED_ERR","INUSE_ATTRIBUTE_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","VALIDATION_ERR","TYPE_MISMATCH_ERR","SECURITY_ERR","NETWORK_ERR","ABORT_ERR","URL_MISMATCH_ERR","QUOTA_EXCEEDED_ERR","TIMEOUT_ERR","INVALID_NODE_TYPE_ERR","DATA_CLONE_ERR","obj","key","configurable","EventWrapper","wrap","getWrapperClassOf","internalDataMap$1","original","defineRedirectDescriptor","$$1","wrapperClassCache","originalEvent","getPrototypeOf","wrapper","defineWrapper","BaseEventWrapper","originalPrototype","CustomEventWrapper","d","getOwnPropertyDescriptor","bind","createListener","callback","capture","passive","once","signal","signalListener","flags","setRemoved","listener","isCapture","isPassive","isOnce","isRemoved","invokeCallback","handleEvent","thrownError","findIndexOfListener","listeners","addListener","list","removeListener","addEventListener","cow","push","index","removeListenerAt","disableCow","removeEventListener","filter","_","splice","createListenerListMap","create","ensureListenerList","listenerMap","attrCallback","attrListener","EventTarget","internalDataMap$2","type0","callback0","options0","$$2","normalizeAddOptions","aborted","warnDuplicate","normalizeOptions","e","eventData","options","assertCallback","keys$1","getEventAttributeValue","listMap","setEventAttributeValue","upsertEventAttributeListener","removeEventAttributeListener","defineEventAttributeCallback","defineCustomEventTarget","types","CustomEventTarget","defineEventAttribute","_eventClass"],"sources":["/Users/tima/kbtu/4thSemester/web/Lab4/angular/node_modules/event-target-shim/index.mjs"],"sourcesContent":["/**\n * Assert a condition.\n * @param condition The condition that it should satisfy.\n * @param message The error message.\n * @param args The arguments for replacing placeholders in the message.\n */\nfunction assertType(condition, message, ...args) {\n    if (!condition) {\n        throw new TypeError(format(message, args));\n    }\n}\n/**\n * Convert a text and arguments to one string.\n * @param message The formating text\n * @param args The arguments.\n */\nfunction format(message, args) {\n    let i = 0;\n    return message.replace(/%[os]/gu, () => anyToString(args[i++]));\n}\n/**\n * Convert a value to a string representation.\n * @param x The value to get the string representation.\n */\nfunction anyToString(x) {\n    if (typeof x !== \"object\" || x === null) {\n        return String(x);\n    }\n    return Object.prototype.toString.call(x);\n}\n\nlet currentErrorHandler;\n/**\n * Set the error handler.\n * @param value The error handler to set.\n */\nfunction setErrorHandler(value) {\n    assertType(typeof value === \"function\" || value === undefined, \"The error handler must be a function or undefined, but got %o.\", value);\n    currentErrorHandler = value;\n}\n/**\n * Print a error message.\n * @param maybeError The error object.\n */\nfunction reportError(maybeError) {\n    try {\n        const error = maybeError instanceof Error\n            ? maybeError\n            : new Error(anyToString(maybeError));\n        // Call the user-defined error handler if exists.\n        if (currentErrorHandler) {\n            currentErrorHandler(error);\n            return;\n        }\n        // Dispatch an `error` event if this is on a browser.\n        if (typeof dispatchEvent === \"function\" &&\n            typeof ErrorEvent === \"function\") {\n            dispatchEvent(new ErrorEvent(\"error\", { error, message: error.message }));\n        }\n        // Emit an `uncaughtException` event if this is on Node.js.\n        //istanbul ignore else\n        else if (typeof process !== \"undefined\" &&\n            typeof process.emit === \"function\") {\n            process.emit(\"uncaughtException\", error);\n            return;\n        }\n        // Otherwise, print the error.\n        console.error(error);\n    }\n    catch (_a) {\n        // ignore.\n    }\n}\n\n/**\n * The global object.\n */\n//istanbul ignore next\nconst Global = typeof window !== \"undefined\"\n    ? window\n    : typeof self !== \"undefined\"\n        ? self\n        : typeof global !== \"undefined\"\n            ? global\n            : typeof globalThis !== \"undefined\"\n                ? globalThis\n                : undefined;\n\nlet currentWarnHandler;\n/**\n * Set the warning handler.\n * @param value The warning handler to set.\n */\nfunction setWarningHandler(value) {\n    assertType(typeof value === \"function\" || value === undefined, \"The warning handler must be a function or undefined, but got %o.\", value);\n    currentWarnHandler = value;\n}\n/**\n * The warning information.\n */\nclass Warning {\n    constructor(code, message) {\n        this.code = code;\n        this.message = message;\n    }\n    /**\n     * Report this warning.\n     * @param args The arguments of the warning.\n     */\n    warn(...args) {\n        var _a;\n        try {\n            // Call the user-defined warning handler if exists.\n            if (currentWarnHandler) {\n                currentWarnHandler({ ...this, args });\n                return;\n            }\n            // Otherwise, print the warning.\n            const stack = ((_a = new Error().stack) !== null && _a !== void 0 ? _a : \"\").replace(/^(?:.+?\\n){2}/gu, \"\\n\");\n            console.warn(this.message, ...args, stack);\n        }\n        catch (_b) {\n            // Ignore.\n        }\n    }\n}\n\nconst InitEventWasCalledWhileDispatching = new Warning(\"W01\", \"Unable to initialize event under dispatching.\");\nconst FalsyWasAssignedToCancelBubble = new Warning(\"W02\", \"Assigning any falsy value to 'cancelBubble' property has no effect.\");\nconst TruthyWasAssignedToReturnValue = new Warning(\"W03\", \"Assigning any truthy value to 'returnValue' property has no effect.\");\nconst NonCancelableEventWasCanceled = new Warning(\"W04\", \"Unable to preventDefault on non-cancelable events.\");\nconst CanceledInPassiveListener = new Warning(\"W05\", \"Unable to preventDefault inside passive event listener invocation.\");\nconst EventListenerWasDuplicated = new Warning(\"W06\", \"An event listener wasn't added because it has been added already: %o, %o\");\nconst OptionWasIgnored = new Warning(\"W07\", \"The %o option value was abandoned because the event listener wasn't added as duplicated.\");\nconst InvalidEventListener = new Warning(\"W08\", \"The 'callback' argument must be a function or an object that has 'handleEvent' method: %o\");\nconst InvalidAttributeHandler = new Warning(\"W09\", \"Event attribute handler must be a function: %o\");\n\n/*eslint-disable class-methods-use-this */\n/**\n * An implementation of `Event` interface, that wraps a given event object.\n * `EventTarget` shim can control the internal state of this `Event` objects.\n * @see https://dom.spec.whatwg.org/#event\n */\nclass Event {\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-none\n     */\n    static get NONE() {\n        return NONE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-capturing_phase\n     */\n    static get CAPTURING_PHASE() {\n        return CAPTURING_PHASE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-at_target\n     */\n    static get AT_TARGET() {\n        return AT_TARGET;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-bubbling_phase\n     */\n    static get BUBBLING_PHASE() {\n        return BUBBLING_PHASE;\n    }\n    /**\n     * Initialize this event instance.\n     * @param type The type of this event.\n     * @param eventInitDict Options to initialize.\n     * @see https://dom.spec.whatwg.org/#dom-event-event\n     */\n    constructor(type, eventInitDict) {\n        Object.defineProperty(this, \"isTrusted\", {\n            value: false,\n            enumerable: true,\n        });\n        const opts = eventInitDict !== null && eventInitDict !== void 0 ? eventInitDict : {};\n        internalDataMap.set(this, {\n            type: String(type),\n            bubbles: Boolean(opts.bubbles),\n            cancelable: Boolean(opts.cancelable),\n            composed: Boolean(opts.composed),\n            target: null,\n            currentTarget: null,\n            stopPropagationFlag: false,\n            stopImmediatePropagationFlag: false,\n            canceledFlag: false,\n            inPassiveListenerFlag: false,\n            dispatchFlag: false,\n            timeStamp: Date.now(),\n        });\n    }\n    /**\n     * The type of this event.\n     * @see https://dom.spec.whatwg.org/#dom-event-type\n     */\n    get type() {\n        return $(this).type;\n    }\n    /**\n     * The event target of the current dispatching.\n     * @see https://dom.spec.whatwg.org/#dom-event-target\n     */\n    get target() {\n        return $(this).target;\n    }\n    /**\n     * The event target of the current dispatching.\n     * @deprecated Use the `target` property instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-srcelement\n     */\n    get srcElement() {\n        return $(this).target;\n    }\n    /**\n     * The event target of the current dispatching.\n     * @see https://dom.spec.whatwg.org/#dom-event-currenttarget\n     */\n    get currentTarget() {\n        return $(this).currentTarget;\n    }\n    /**\n     * The event target of the current dispatching.\n     * This doesn't support node tree.\n     * @see https://dom.spec.whatwg.org/#dom-event-composedpath\n     */\n    composedPath() {\n        const currentTarget = $(this).currentTarget;\n        if (currentTarget) {\n            return [currentTarget];\n        }\n        return [];\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-none\n     */\n    get NONE() {\n        return NONE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-capturing_phase\n     */\n    get CAPTURING_PHASE() {\n        return CAPTURING_PHASE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-at_target\n     */\n    get AT_TARGET() {\n        return AT_TARGET;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-bubbling_phase\n     */\n    get BUBBLING_PHASE() {\n        return BUBBLING_PHASE;\n    }\n    /**\n     * The current event phase.\n     * @see https://dom.spec.whatwg.org/#dom-event-eventphase\n     */\n    get eventPhase() {\n        return $(this).dispatchFlag ? 2 : 0;\n    }\n    /**\n     * Stop event bubbling.\n     * Because this shim doesn't support node tree, this merely changes the `cancelBubble` property value.\n     * @see https://dom.spec.whatwg.org/#dom-event-stoppropagation\n     */\n    stopPropagation() {\n        $(this).stopPropagationFlag = true;\n    }\n    /**\n     * `true` if event bubbling was stopped.\n     * @deprecated\n     * @see https://dom.spec.whatwg.org/#dom-event-cancelbubble\n     */\n    get cancelBubble() {\n        return $(this).stopPropagationFlag;\n    }\n    /**\n     * Stop event bubbling if `true` is set.\n     * @deprecated Use the `stopPropagation()` method instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-cancelbubble\n     */\n    set cancelBubble(value) {\n        if (value) {\n            $(this).stopPropagationFlag = true;\n        }\n        else {\n            FalsyWasAssignedToCancelBubble.warn();\n        }\n    }\n    /**\n     * Stop event bubbling and subsequent event listener callings.\n     * @see https://dom.spec.whatwg.org/#dom-event-stopimmediatepropagation\n     */\n    stopImmediatePropagation() {\n        const data = $(this);\n        data.stopPropagationFlag = data.stopImmediatePropagationFlag = true;\n    }\n    /**\n     * `true` if this event will bubble.\n     * @see https://dom.spec.whatwg.org/#dom-event-bubbles\n     */\n    get bubbles() {\n        return $(this).bubbles;\n    }\n    /**\n     * `true` if this event can be canceled by the `preventDefault()` method.\n     * @see https://dom.spec.whatwg.org/#dom-event-cancelable\n     */\n    get cancelable() {\n        return $(this).cancelable;\n    }\n    /**\n     * `true` if the default behavior will act.\n     * @deprecated Use the `defaultPrevented` proeprty instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-returnvalue\n     */\n    get returnValue() {\n        return !$(this).canceledFlag;\n    }\n    /**\n     * Cancel the default behavior if `false` is set.\n     * @deprecated Use the `preventDefault()` method instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-returnvalue\n     */\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag($(this));\n        }\n        else {\n            TruthyWasAssignedToReturnValue.warn();\n        }\n    }\n    /**\n     * Cancel the default behavior.\n     * @see https://dom.spec.whatwg.org/#dom-event-preventdefault\n     */\n    preventDefault() {\n        setCancelFlag($(this));\n    }\n    /**\n     * `true` if the default behavior was canceled.\n     * @see https://dom.spec.whatwg.org/#dom-event-defaultprevented\n     */\n    get defaultPrevented() {\n        return $(this).canceledFlag;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-composed\n     */\n    get composed() {\n        return $(this).composed;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-istrusted\n     */\n    //istanbul ignore next\n    get isTrusted() {\n        return false;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-timestamp\n     */\n    get timeStamp() {\n        return $(this).timeStamp;\n    }\n    /**\n     * @deprecated Don't use this method. The constructor did initialization.\n     */\n    initEvent(type, bubbles = false, cancelable = false) {\n        const data = $(this);\n        if (data.dispatchFlag) {\n            InitEventWasCalledWhileDispatching.warn();\n            return;\n        }\n        internalDataMap.set(this, {\n            ...data,\n            type: String(type),\n            bubbles: Boolean(bubbles),\n            cancelable: Boolean(cancelable),\n            target: null,\n            currentTarget: null,\n            stopPropagationFlag: false,\n            stopImmediatePropagationFlag: false,\n            canceledFlag: false,\n        });\n    }\n}\n//------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\nconst NONE = 0;\nconst CAPTURING_PHASE = 1;\nconst AT_TARGET = 2;\nconst BUBBLING_PHASE = 3;\n/**\n * Private data for event wrappers.\n */\nconst internalDataMap = new WeakMap();\n/**\n * Get private data.\n * @param event The event object to get private data.\n * @param name The variable name to report.\n * @returns The private data of the event.\n */\nfunction $(event, name = \"this\") {\n    const retv = internalDataMap.get(event);\n    assertType(retv != null, \"'%s' must be an object that Event constructor created, but got another one: %o\", name, event);\n    return retv;\n}\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data private data.\n */\nfunction setCancelFlag(data) {\n    if (data.inPassiveListenerFlag) {\n        CanceledInPassiveListener.warn();\n        return;\n    }\n    if (!data.cancelable) {\n        NonCancelableEventWasCanceled.warn();\n        return;\n    }\n    data.canceledFlag = true;\n}\n// Set enumerable\nObject.defineProperty(Event, \"NONE\", { enumerable: true });\nObject.defineProperty(Event, \"CAPTURING_PHASE\", { enumerable: true });\nObject.defineProperty(Event, \"AT_TARGET\", { enumerable: true });\nObject.defineProperty(Event, \"BUBBLING_PHASE\", { enumerable: true });\nconst keys = Object.getOwnPropertyNames(Event.prototype);\nfor (let i = 0; i < keys.length; ++i) {\n    if (keys[i] === \"constructor\") {\n        continue;\n    }\n    Object.defineProperty(Event.prototype, keys[i], { enumerable: true });\n}\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof Global !== \"undefined\" && typeof Global.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, Global.Event.prototype);\n}\n\n/**\n * Create a new InvalidStateError instance.\n * @param message The error message.\n */\nfunction createInvalidStateError(message) {\n    if (Global.DOMException) {\n        return new Global.DOMException(message, \"InvalidStateError\");\n    }\n    if (DOMException == null) {\n        DOMException = class DOMException extends Error {\n            constructor(msg) {\n                super(msg);\n                if (Error.captureStackTrace) {\n                    Error.captureStackTrace(this, DOMException);\n                }\n            }\n            // eslint-disable-next-line class-methods-use-this\n            get code() {\n                return 11;\n            }\n            // eslint-disable-next-line class-methods-use-this\n            get name() {\n                return \"InvalidStateError\";\n            }\n        };\n        Object.defineProperties(DOMException.prototype, {\n            code: { enumerable: true },\n            name: { enumerable: true },\n        });\n        defineErrorCodeProperties(DOMException);\n        defineErrorCodeProperties(DOMException.prototype);\n    }\n    return new DOMException(message);\n}\n//------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\nlet DOMException;\nconst ErrorCodeMap = {\n    INDEX_SIZE_ERR: 1,\n    DOMSTRING_SIZE_ERR: 2,\n    HIERARCHY_REQUEST_ERR: 3,\n    WRONG_DOCUMENT_ERR: 4,\n    INVALID_CHARACTER_ERR: 5,\n    NO_DATA_ALLOWED_ERR: 6,\n    NO_MODIFICATION_ALLOWED_ERR: 7,\n    NOT_FOUND_ERR: 8,\n    NOT_SUPPORTED_ERR: 9,\n    INUSE_ATTRIBUTE_ERR: 10,\n    INVALID_STATE_ERR: 11,\n    SYNTAX_ERR: 12,\n    INVALID_MODIFICATION_ERR: 13,\n    NAMESPACE_ERR: 14,\n    INVALID_ACCESS_ERR: 15,\n    VALIDATION_ERR: 16,\n    TYPE_MISMATCH_ERR: 17,\n    SECURITY_ERR: 18,\n    NETWORK_ERR: 19,\n    ABORT_ERR: 20,\n    URL_MISMATCH_ERR: 21,\n    QUOTA_EXCEEDED_ERR: 22,\n    TIMEOUT_ERR: 23,\n    INVALID_NODE_TYPE_ERR: 24,\n    DATA_CLONE_ERR: 25,\n};\nfunction defineErrorCodeProperties(obj) {\n    const keys = Object.keys(ErrorCodeMap);\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        const value = ErrorCodeMap[key];\n        Object.defineProperty(obj, key, {\n            get() {\n                return value;\n            },\n            configurable: true,\n            enumerable: true,\n        });\n    }\n}\n\n/**\n * An implementation of `Event` interface, that wraps a given event object.\n * This class controls the internal state of `Event`.\n * @see https://dom.spec.whatwg.org/#interface-event\n */\nclass EventWrapper extends Event {\n    /**\n     * Wrap a given event object to control states.\n     * @param event The event-like object to wrap.\n     */\n    static wrap(event) {\n        return new (getWrapperClassOf(event))(event);\n    }\n    constructor(event) {\n        super(event.type, {\n            bubbles: event.bubbles,\n            cancelable: event.cancelable,\n            composed: event.composed,\n        });\n        if (event.cancelBubble) {\n            super.stopPropagation();\n        }\n        if (event.defaultPrevented) {\n            super.preventDefault();\n        }\n        internalDataMap$1.set(this, { original: event });\n        // Define accessors\n        const keys = Object.keys(event);\n        for (let i = 0; i < keys.length; ++i) {\n            const key = keys[i];\n            if (!(key in this)) {\n                Object.defineProperty(this, key, defineRedirectDescriptor(event, key));\n            }\n        }\n    }\n    stopPropagation() {\n        super.stopPropagation();\n        const { original } = $$1(this);\n        if (\"stopPropagation\" in original) {\n            original.stopPropagation();\n        }\n    }\n    get cancelBubble() {\n        return super.cancelBubble;\n    }\n    set cancelBubble(value) {\n        super.cancelBubble = value;\n        const { original } = $$1(this);\n        if (\"cancelBubble\" in original) {\n            original.cancelBubble = value;\n        }\n    }\n    stopImmediatePropagation() {\n        super.stopImmediatePropagation();\n        const { original } = $$1(this);\n        if (\"stopImmediatePropagation\" in original) {\n            original.stopImmediatePropagation();\n        }\n    }\n    get returnValue() {\n        return super.returnValue;\n    }\n    set returnValue(value) {\n        super.returnValue = value;\n        const { original } = $$1(this);\n        if (\"returnValue\" in original) {\n            original.returnValue = value;\n        }\n    }\n    preventDefault() {\n        super.preventDefault();\n        const { original } = $$1(this);\n        if (\"preventDefault\" in original) {\n            original.preventDefault();\n        }\n    }\n    get timeStamp() {\n        const { original } = $$1(this);\n        if (\"timeStamp\" in original) {\n            return original.timeStamp;\n        }\n        return super.timeStamp;\n    }\n}\n/**\n * Private data for event wrappers.\n */\nconst internalDataMap$1 = new WeakMap();\n/**\n * Get private data.\n * @param event The event object to get private data.\n * @returns The private data of the event.\n */\nfunction $$1(event) {\n    const retv = internalDataMap$1.get(event);\n    assertType(retv != null, \"'this' is expected an Event object, but got\", event);\n    return retv;\n}\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrapperClassCache = new WeakMap();\n// Make association for wrappers.\nwrapperClassCache.set(Object.prototype, EventWrapper);\nif (typeof Global !== \"undefined\" && typeof Global.Event !== \"undefined\") {\n    wrapperClassCache.set(Global.Event.prototype, EventWrapper);\n}\n/**\n * Get the wrapper class of a given prototype.\n * @param originalEvent The event object to wrap.\n */\nfunction getWrapperClassOf(originalEvent) {\n    const prototype = Object.getPrototypeOf(originalEvent);\n    if (prototype == null) {\n        return EventWrapper;\n    }\n    let wrapper = wrapperClassCache.get(prototype);\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapperClassOf(prototype), prototype);\n        wrapperClassCache.set(prototype, wrapper);\n    }\n    return wrapper;\n}\n/**\n * Define new wrapper class.\n * @param BaseEventWrapper The base wrapper class.\n * @param originalPrototype The prototype of the original event.\n */\nfunction defineWrapper(BaseEventWrapper, originalPrototype) {\n    class CustomEventWrapper extends BaseEventWrapper {\n    }\n    const keys = Object.keys(originalPrototype);\n    for (let i = 0; i < keys.length; ++i) {\n        Object.defineProperty(CustomEventWrapper.prototype, keys[i], defineRedirectDescriptor(originalPrototype, keys[i]));\n    }\n    return CustomEventWrapper;\n}\n/**\n * Get the property descriptor to redirect a given property.\n */\nfunction defineRedirectDescriptor(obj, key) {\n    const d = Object.getOwnPropertyDescriptor(obj, key);\n    return {\n        get() {\n            const original = $$1(this).original;\n            const value = original[key];\n            if (typeof value === \"function\") {\n                return value.bind(original);\n            }\n            return value;\n        },\n        set(value) {\n            const original = $$1(this).original;\n            original[key] = value;\n        },\n        configurable: d.configurable,\n        enumerable: d.enumerable,\n    };\n}\n\n/**\n * Create a new listener.\n * @param callback The callback function.\n * @param capture The capture flag.\n * @param passive The passive flag.\n * @param once The once flag.\n * @param signal The abort signal.\n * @param signalListener The abort event listener for the abort signal.\n */\nfunction createListener(callback, capture, passive, once, signal, signalListener) {\n    return {\n        callback,\n        flags: (capture ? 1 /* Capture */ : 0) |\n            (passive ? 2 /* Passive */ : 0) |\n            (once ? 4 /* Once */ : 0),\n        signal,\n        signalListener,\n    };\n}\n/**\n * Set the `removed` flag to the given listener.\n * @param listener The listener to check.\n */\nfunction setRemoved(listener) {\n    listener.flags |= 8 /* Removed */;\n}\n/**\n * Check if the given listener has the `capture` flag or not.\n * @param listener The listener to check.\n */\nfunction isCapture(listener) {\n    return (listener.flags & 1 /* Capture */) === 1 /* Capture */;\n}\n/**\n * Check if the given listener has the `passive` flag or not.\n * @param listener The listener to check.\n */\nfunction isPassive(listener) {\n    return (listener.flags & 2 /* Passive */) === 2 /* Passive */;\n}\n/**\n * Check if the given listener has the `once` flag or not.\n * @param listener The listener to check.\n */\nfunction isOnce(listener) {\n    return (listener.flags & 4 /* Once */) === 4 /* Once */;\n}\n/**\n * Check if the given listener has the `removed` flag or not.\n * @param listener The listener to check.\n */\nfunction isRemoved(listener) {\n    return (listener.flags & 8 /* Removed */) === 8 /* Removed */;\n}\n/**\n * Call an event listener.\n * @param listener The listener to call.\n * @param target The event target object for `thisArg`.\n * @param event The event object for the first argument.\n * @param attribute `true` if this callback is an event attribute handler.\n */\nfunction invokeCallback({ callback }, target, event) {\n    try {\n        if (typeof callback === \"function\") {\n            callback.call(target, event);\n        }\n        else if (typeof callback.handleEvent === \"function\") {\n            callback.handleEvent(event);\n        }\n    }\n    catch (thrownError) {\n        reportError(thrownError);\n    }\n}\n\n/**\n * Find the index of given listener.\n * This returns `-1` if not found.\n * @param list The listener list.\n * @param callback The callback function to find.\n * @param capture The capture flag to find.\n */\nfunction findIndexOfListener({ listeners }, callback, capture) {\n    for (let i = 0; i < listeners.length; ++i) {\n        if (listeners[i].callback === callback &&\n            isCapture(listeners[i]) === capture) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * Add the given listener.\n * Does copy-on-write if needed.\n * @param list The listener list.\n * @param callback The callback function.\n * @param capture The capture flag.\n * @param passive The passive flag.\n * @param once The once flag.\n * @param signal The abort signal.\n */\nfunction addListener(list, callback, capture, passive, once, signal) {\n    let signalListener;\n    if (signal) {\n        signalListener = removeListener.bind(null, list, callback, capture);\n        signal.addEventListener(\"abort\", signalListener);\n    }\n    const listener = createListener(callback, capture, passive, once, signal, signalListener);\n    if (list.cow) {\n        list.cow = false;\n        list.listeners = [...list.listeners, listener];\n    }\n    else {\n        list.listeners.push(listener);\n    }\n    return listener;\n}\n/**\n * Remove a listener.\n * @param list The listener list.\n * @param callback The callback function to find.\n * @param capture The capture flag to find.\n * @returns `true` if it mutated the list directly.\n */\nfunction removeListener(list, callback, capture) {\n    const index = findIndexOfListener(list, callback, capture);\n    if (index !== -1) {\n        return removeListenerAt(list, index);\n    }\n    return false;\n}\n/**\n * Remove a listener.\n * @param list The listener list.\n * @param index The index of the target listener.\n * @param disableCow Disable copy-on-write if true.\n * @returns `true` if it mutated the `listeners` array directly.\n */\nfunction removeListenerAt(list, index, disableCow = false) {\n    const listener = list.listeners[index];\n    // Set the removed flag.\n    setRemoved(listener);\n    // Dispose the abort signal listener if exists.\n    if (listener.signal) {\n        listener.signal.removeEventListener(\"abort\", listener.signalListener);\n    }\n    // Remove it from the array.\n    if (list.cow && !disableCow) {\n        list.cow = false;\n        list.listeners = list.listeners.filter((_, i) => i !== index);\n        return false;\n    }\n    list.listeners.splice(index, 1);\n    return true;\n}\n\n/**\n * Create a new `ListenerListMap` object.\n */\nfunction createListenerListMap() {\n    return Object.create(null);\n}\n/**\n * Get the listener list of the given type.\n * If the listener list has not been initialized, initialize and return it.\n * @param listenerMap The listener list map.\n * @param type The event type to get.\n */\nfunction ensureListenerList(listenerMap, type) {\n    var _a;\n    return ((_a = listenerMap[type]) !== null && _a !== void 0 ? _a : (listenerMap[type] = {\n        attrCallback: undefined,\n        attrListener: undefined,\n        cow: false,\n        listeners: [],\n    }));\n}\n\n/**\n * An implementation of the `EventTarget` interface.\n * @see https://dom.spec.whatwg.org/#eventtarget\n */\nclass EventTarget {\n    /**\n     * Initialize this instance.\n     */\n    constructor() {\n        internalDataMap$2.set(this, createListenerListMap());\n    }\n    // Implementation\n    addEventListener(type0, callback0, options0) {\n        const listenerMap = $$2(this);\n        const { callback, capture, once, passive, signal, type, } = normalizeAddOptions(type0, callback0, options0);\n        if (callback == null || (signal === null || signal === void 0 ? void 0 : signal.aborted)) {\n            return;\n        }\n        const list = ensureListenerList(listenerMap, type);\n        // Find existing listener.\n        const i = findIndexOfListener(list, callback, capture);\n        if (i !== -1) {\n            warnDuplicate(list.listeners[i], passive, once, signal);\n            return;\n        }\n        // Add the new listener.\n        addListener(list, callback, capture, passive, once, signal);\n    }\n    // Implementation\n    removeEventListener(type0, callback0, options0) {\n        const listenerMap = $$2(this);\n        const { callback, capture, type } = normalizeOptions(type0, callback0, options0);\n        const list = listenerMap[type];\n        if (callback != null && list) {\n            removeListener(list, callback, capture);\n        }\n    }\n    // Implementation\n    dispatchEvent(e) {\n        const list = $$2(this)[String(e.type)];\n        if (list == null) {\n            return true;\n        }\n        const event = e instanceof Event ? e : EventWrapper.wrap(e);\n        const eventData = $(event, \"event\");\n        if (eventData.dispatchFlag) {\n            throw createInvalidStateError(\"This event has been in dispatching.\");\n        }\n        eventData.dispatchFlag = true;\n        eventData.target = eventData.currentTarget = this;\n        if (!eventData.stopPropagationFlag) {\n            const { cow, listeners } = list;\n            // Set copy-on-write flag.\n            list.cow = true;\n            // Call listeners.\n            for (let i = 0; i < listeners.length; ++i) {\n                const listener = listeners[i];\n                // Skip if removed.\n                if (isRemoved(listener)) {\n                    continue;\n                }\n                // Remove this listener if has the `once` flag.\n                if (isOnce(listener) && removeListenerAt(list, i, !cow)) {\n                    // Because this listener was removed, the next index is the\n                    // same as the current value.\n                    i -= 1;\n                }\n                // Call this listener with the `passive` flag.\n                eventData.inPassiveListenerFlag = isPassive(listener);\n                invokeCallback(listener, this, event);\n                eventData.inPassiveListenerFlag = false;\n                // Stop if the `event.stopImmediatePropagation()` method was called.\n                if (eventData.stopImmediatePropagationFlag) {\n                    break;\n                }\n            }\n            // Restore copy-on-write flag.\n            if (!cow) {\n                list.cow = false;\n            }\n        }\n        eventData.target = null;\n        eventData.currentTarget = null;\n        eventData.stopImmediatePropagationFlag = false;\n        eventData.stopPropagationFlag = false;\n        eventData.dispatchFlag = false;\n        return !eventData.canceledFlag;\n    }\n}\n/**\n * Internal data.\n */\nconst internalDataMap$2 = new WeakMap();\n/**\n * Get private data.\n * @param target The event target object to get private data.\n * @param name The variable name to report.\n * @returns The private data of the event.\n */\nfunction $$2(target, name = \"this\") {\n    const retv = internalDataMap$2.get(target);\n    assertType(retv != null, \"'%s' must be an object that EventTarget constructor created, but got another one: %o\", name, target);\n    return retv;\n}\n/**\n * Normalize options.\n * @param options The options to normalize.\n */\nfunction normalizeAddOptions(type, callback, options) {\n    var _a;\n    assertCallback(callback);\n    if (typeof options === \"object\" && options !== null) {\n        return {\n            type: String(type),\n            callback: callback !== null && callback !== void 0 ? callback : undefined,\n            capture: Boolean(options.capture),\n            passive: Boolean(options.passive),\n            once: Boolean(options.once),\n            signal: (_a = options.signal) !== null && _a !== void 0 ? _a : undefined,\n        };\n    }\n    return {\n        type: String(type),\n        callback: callback !== null && callback !== void 0 ? callback : undefined,\n        capture: Boolean(options),\n        passive: false,\n        once: false,\n        signal: undefined,\n    };\n}\n/**\n * Normalize options.\n * @param options The options to normalize.\n */\nfunction normalizeOptions(type, callback, options) {\n    assertCallback(callback);\n    if (typeof options === \"object\" && options !== null) {\n        return {\n            type: String(type),\n            callback: callback !== null && callback !== void 0 ? callback : undefined,\n            capture: Boolean(options.capture),\n        };\n    }\n    return {\n        type: String(type),\n        callback: callback !== null && callback !== void 0 ? callback : undefined,\n        capture: Boolean(options),\n    };\n}\n/**\n * Assert the type of 'callback' argument.\n * @param callback The callback to check.\n */\nfunction assertCallback(callback) {\n    if (typeof callback === \"function\" ||\n        (typeof callback === \"object\" &&\n            callback !== null &&\n            typeof callback.handleEvent === \"function\")) {\n        return;\n    }\n    if (callback == null || typeof callback === \"object\") {\n        InvalidEventListener.warn(callback);\n        return;\n    }\n    throw new TypeError(format(InvalidEventListener.message, [callback]));\n}\n/**\n * Print warning for duplicated.\n * @param listener The current listener that is duplicated.\n * @param passive The passive flag of the new duplicated listener.\n * @param once The once flag of the new duplicated listener.\n * @param signal The signal object of the new duplicated listener.\n */\nfunction warnDuplicate(listener, passive, once, signal) {\n    EventListenerWasDuplicated.warn(isCapture(listener) ? \"capture\" : \"bubble\", listener.callback);\n    if (isPassive(listener) !== passive) {\n        OptionWasIgnored.warn(\"passive\");\n    }\n    if (isOnce(listener) !== once) {\n        OptionWasIgnored.warn(\"once\");\n    }\n    if (listener.signal !== signal) {\n        OptionWasIgnored.warn(\"signal\");\n    }\n}\n// Set enumerable\nconst keys$1 = Object.getOwnPropertyNames(EventTarget.prototype);\nfor (let i = 0; i < keys$1.length; ++i) {\n    if (keys$1[i] === \"constructor\") {\n        continue;\n    }\n    Object.defineProperty(EventTarget.prototype, keys$1[i], { enumerable: true });\n}\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (typeof Global !== \"undefined\" &&\n    typeof Global.EventTarget !== \"undefined\") {\n    Object.setPrototypeOf(EventTarget.prototype, Global.EventTarget.prototype);\n}\n\n/**\n * Get the current value of a given event attribute.\n * @param target The `EventTarget` object to get.\n * @param type The event type.\n */\nfunction getEventAttributeValue(target, type) {\n    var _a, _b;\n    const listMap = $$2(target, \"target\");\n    return (_b = (_a = listMap[type]) === null || _a === void 0 ? void 0 : _a.attrCallback) !== null && _b !== void 0 ? _b : null;\n}\n/**\n * Set an event listener to a given event attribute.\n * @param target The `EventTarget` object to set.\n * @param type The event type.\n * @param callback The event listener.\n */\nfunction setEventAttributeValue(target, type, callback) {\n    if (callback != null && typeof callback !== \"function\") {\n        InvalidAttributeHandler.warn(callback);\n    }\n    if (typeof callback === \"function\" ||\n        (typeof callback === \"object\" && callback !== null)) {\n        upsertEventAttributeListener(target, type, callback);\n    }\n    else {\n        removeEventAttributeListener(target, type);\n    }\n}\n//------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n/**\n * Update or insert the given event attribute handler.\n * @param target The `EventTarget` object to set.\n * @param type The event type.\n * @param callback The event listener.\n */\nfunction upsertEventAttributeListener(target, type, callback) {\n    const list = ensureListenerList($$2(target, \"target\"), String(type));\n    list.attrCallback = callback;\n    if (list.attrListener == null) {\n        list.attrListener = addListener(list, defineEventAttributeCallback(list), false, false, false, undefined);\n    }\n}\n/**\n * Remove the given event attribute handler.\n * @param target The `EventTarget` object to remove.\n * @param type The event type.\n * @param callback The event listener.\n */\nfunction removeEventAttributeListener(target, type) {\n    const listMap = $$2(target, \"target\");\n    const list = listMap[String(type)];\n    if (list && list.attrListener) {\n        removeListener(list, list.attrListener.callback, false);\n        list.attrCallback = list.attrListener = undefined;\n    }\n}\n/**\n * Define the callback function for the given listener list object.\n * It calls `attrCallback` property if the property value is a function.\n * @param list The `ListenerList` object.\n */\nfunction defineEventAttributeCallback(list) {\n    return function (event) {\n        const callback = list.attrCallback;\n        if (typeof callback === \"function\") {\n            callback.call(this, event);\n        }\n    };\n}\n\n/**\n * Define an `EventTarget` class that has event attibutes.\n * @param types The types to define event attributes.\n * @deprecated Use `getEventAttributeValue`/`setEventAttributeValue` pair on your derived class instead because of static analysis friendly.\n */\nfunction defineCustomEventTarget(...types) {\n    class CustomEventTarget extends EventTarget {\n    }\n    for (let i = 0; i < types.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, types[i]);\n    }\n    return CustomEventTarget;\n}\n/**\n * Define an event attribute.\n * @param target The `EventTarget` object to define an event attribute.\n * @param type The event type to define.\n * @param _eventClass Unused, but to infer `Event` class type.\n * @deprecated Use `getEventAttributeValue`/`setEventAttributeValue` pair on your derived class instead because of static analysis friendly.\n */\nfunction defineEventAttribute(target, type, _eventClass) {\n    Object.defineProperty(target, `on${type}`, {\n        get() {\n            return getEventAttributeValue(this, type);\n        },\n        set(value) {\n            setEventAttributeValue(this, type, value);\n        },\n        configurable: true,\n        enumerable: true,\n    });\n}\n\nexport default EventTarget;\nexport { Event, EventTarget, defineCustomEventTarget, defineEventAttribute, getEventAttributeValue, setErrorHandler, setEventAttributeValue, setWarningHandler };\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,UAAU,CAACC,SAAS,EAAEC,OAAO,EAAE,GAAGC,IAAI,EAAE;EAC7C,IAAI,CAACF,SAAS,EAAE;IACZ,MAAM,IAAIG,SAAS,CAACC,MAAM,CAACH,OAAO,EAAEC,IAAI,CAAC,CAAC;EAC9C;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,SAASE,MAAM,CAACH,OAAO,EAAEC,IAAI,EAAE;EAC3B,IAAIG,CAAC,GAAG,CAAC;EACT,OAAOJ,OAAO,CAACK,OAAO,CAAC,SAAS,EAAE,MAAMC,WAAW,CAACL,IAAI,CAACG,CAAC,EAAE,CAAC,CAAC,CAAC;AACnE;AACA;AACA;AACA;AACA;AACA,SAASE,WAAW,CAACC,CAAC,EAAE;EACpB,IAAI,OAAOA,CAAC,KAAK,QAAQ,IAAIA,CAAC,KAAK,IAAI,EAAE;IACrC,OAAOC,MAAM,CAACD,CAAC,CAAC;EACpB;EACA,OAAOE,MAAM,CAACC,SAAS,CAACC,QAAQ,CAACC,IAAI,CAACL,CAAC,CAAC;AAC5C;AAEA,IAAIM,mBAAmB;AACvB;AACA;AACA;AACA;AACA,SAASC,eAAe,CAACC,KAAK,EAAE;EAC5BjB,UAAU,CAAC,OAAOiB,KAAK,KAAK,UAAU,IAAIA,KAAK,KAAKC,SAAS,EAAE,gEAAgE,EAAED,KAAK,CAAC;EACvIF,mBAAmB,GAAGE,KAAK;AAC/B;AACA;AACA;AACA;AACA;AACA,SAASE,WAAW,CAACC,UAAU,EAAE;EAC7B,IAAI;IACA,MAAMC,KAAK,GAAGD,UAAU,YAAYE,KAAK,GACnCF,UAAU,GACV,IAAIE,KAAK,CAACd,WAAW,CAACY,UAAU,CAAC,CAAC;IACxC;IACA,IAAIL,mBAAmB,EAAE;MACrBA,mBAAmB,CAACM,KAAK,CAAC;MAC1B;IACJ;IACA;IACA,IAAI,OAAOE,aAAa,KAAK,UAAU,IACnC,OAAOC,UAAU,KAAK,UAAU,EAAE;MAClCD,aAAa,CAAC,IAAIC,UAAU,CAAC,OAAO,EAAE;QAAEH,KAAK;QAAEnB,OAAO,EAAEmB,KAAK,CAACnB;MAAQ,CAAC,CAAC,CAAC;IAC7E;IACA;IACA;IAAA,KACK,IAAI,OAAOuB,OAAO,KAAK,WAAW,IACnC,OAAOA,OAAO,CAACC,IAAI,KAAK,UAAU,EAAE;MACpCD,OAAO,CAACC,IAAI,CAAC,mBAAmB,EAAEL,KAAK,CAAC;MACxC;IACJ;IACA;IACAM,OAAO,CAACN,KAAK,CAACA,KAAK,CAAC;EACxB,CAAC,CACD,OAAOO,EAAE,EAAE;IACP;EAAA;AAER;;AAEA;AACA;AACA;AACA;AACA,MAAMC,MAAM,GAAG,OAAOC,MAAM,KAAK,WAAW,GACtCA,MAAM,GACN,OAAOC,IAAI,KAAK,WAAW,GACvBA,IAAI,GACJ,OAAOC,MAAM,KAAK,WAAW,GACzBA,MAAM,GACN,OAAOC,UAAU,KAAK,WAAW,GAC7BA,UAAU,GACVf,SAAS;AAE3B,IAAIgB,kBAAkB;AACtB;AACA;AACA;AACA;AACA,SAASC,iBAAiB,CAAClB,KAAK,EAAE;EAC9BjB,UAAU,CAAC,OAAOiB,KAAK,KAAK,UAAU,IAAIA,KAAK,KAAKC,SAAS,EAAE,kEAAkE,EAAED,KAAK,CAAC;EACzIiB,kBAAkB,GAAGjB,KAAK;AAC9B;AACA;AACA;AACA;AACA,MAAMmB,OAAO,CAAC;EACVC,WAAW,CAACC,IAAI,EAAEpC,OAAO,EAAE;IACvB,IAAI,CAACoC,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACpC,OAAO,GAAGA,OAAO;EAC1B;EACA;AACJ;AACA;AACA;EACIqC,IAAI,CAAC,GAAGpC,IAAI,EAAE;IACV,IAAIyB,EAAE;IACN,IAAI;MACA;MACA,IAAIM,kBAAkB,EAAE;QACpBA,kBAAkB,CAAC;UAAE,GAAG,IAAI;UAAE/B;QAAK,CAAC,CAAC;QACrC;MACJ;MACA;MACA,MAAMqC,KAAK,GAAG,CAAC,CAACZ,EAAE,GAAG,IAAIN,KAAK,EAAE,CAACkB,KAAK,MAAM,IAAI,IAAIZ,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,EAAE,EAAErB,OAAO,CAAC,iBAAiB,EAAE,IAAI,CAAC;MAC7GoB,OAAO,CAACY,IAAI,CAAC,IAAI,CAACrC,OAAO,EAAE,GAAGC,IAAI,EAAEqC,KAAK,CAAC;IAC9C,CAAC,CACD,OAAOC,EAAE,EAAE;MACP;IAAA;EAER;AACJ;AAEA,MAAMC,kCAAkC,GAAG,IAAIN,OAAO,CAAC,KAAK,EAAE,+CAA+C,CAAC;AAC9G,MAAMO,8BAA8B,GAAG,IAAIP,OAAO,CAAC,KAAK,EAAE,qEAAqE,CAAC;AAChI,MAAMQ,8BAA8B,GAAG,IAAIR,OAAO,CAAC,KAAK,EAAE,qEAAqE,CAAC;AAChI,MAAMS,6BAA6B,GAAG,IAAIT,OAAO,CAAC,KAAK,EAAE,oDAAoD,CAAC;AAC9G,MAAMU,yBAAyB,GAAG,IAAIV,OAAO,CAAC,KAAK,EAAE,oEAAoE,CAAC;AAC1H,MAAMW,0BAA0B,GAAG,IAAIX,OAAO,CAAC,KAAK,EAAE,0EAA0E,CAAC;AACjI,MAAMY,gBAAgB,GAAG,IAAIZ,OAAO,CAAC,KAAK,EAAE,0FAA0F,CAAC;AACvI,MAAMa,oBAAoB,GAAG,IAAIb,OAAO,CAAC,KAAK,EAAE,2FAA2F,CAAC;AAC5I,MAAMc,uBAAuB,GAAG,IAAId,OAAO,CAAC,KAAK,EAAE,gDAAgD,CAAC;;AAEpG;AACA;AACA;AACA;AACA;AACA;AACA,MAAMe,KAAK,CAAC;EACR;AACJ;AACA;EACI,WAAWC,IAAI,GAAG;IACd,OAAOA,IAAI;EACf;EACA;AACJ;AACA;EACI,WAAWC,eAAe,GAAG;IACzB,OAAOA,eAAe;EAC1B;EACA;AACJ;AACA;EACI,WAAWC,SAAS,GAAG;IACnB,OAAOA,SAAS;EACpB;EACA;AACJ;AACA;EACI,WAAWC,cAAc,GAAG;IACxB,OAAOA,cAAc;EACzB;EACA;AACJ;AACA;AACA;AACA;AACA;EACIlB,WAAW,CAACmB,IAAI,EAAEC,aAAa,EAAE;IAC7B9C,MAAM,CAAC+C,cAAc,CAAC,IAAI,EAAE,WAAW,EAAE;MACrCzC,KAAK,EAAE,KAAK;MACZ0C,UAAU,EAAE;IAChB,CAAC,CAAC;IACF,MAAMC,IAAI,GAAGH,aAAa,KAAK,IAAI,IAAIA,aAAa,KAAK,KAAK,CAAC,GAAGA,aAAa,GAAG,CAAC,CAAC;IACpFI,eAAe,CAACC,GAAG,CAAC,IAAI,EAAE;MACtBN,IAAI,EAAE9C,MAAM,CAAC8C,IAAI,CAAC;MAClBO,OAAO,EAAEC,OAAO,CAACJ,IAAI,CAACG,OAAO,CAAC;MAC9BE,UAAU,EAAED,OAAO,CAACJ,IAAI,CAACK,UAAU,CAAC;MACpCC,QAAQ,EAAEF,OAAO,CAACJ,IAAI,CAACM,QAAQ,CAAC;MAChCC,MAAM,EAAE,IAAI;MACZC,aAAa,EAAE,IAAI;MACnBC,mBAAmB,EAAE,KAAK;MAC1BC,4BAA4B,EAAE,KAAK;MACnCC,YAAY,EAAE,KAAK;MACnBC,qBAAqB,EAAE,KAAK;MAC5BC,YAAY,EAAE,KAAK;MACnBC,SAAS,EAAEC,IAAI,CAACC,GAAG;IACvB,CAAC,CAAC;EACN;EACA;AACJ;AACA;AACA;EACI,IAAIpB,IAAI,GAAG;IACP,OAAOqB,CAAC,CAAC,IAAI,CAAC,CAACrB,IAAI;EACvB;EACA;AACJ;AACA;AACA;EACI,IAAIW,MAAM,GAAG;IACT,OAAOU,CAAC,CAAC,IAAI,CAAC,CAACV,MAAM;EACzB;EACA;AACJ;AACA;AACA;AACA;EACI,IAAIW,UAAU,GAAG;IACb,OAAOD,CAAC,CAAC,IAAI,CAAC,CAACV,MAAM;EACzB;EACA;AACJ;AACA;AACA;EACI,IAAIC,aAAa,GAAG;IAChB,OAAOS,CAAC,CAAC,IAAI,CAAC,CAACT,aAAa;EAChC;EACA;AACJ;AACA;AACA;AACA;EACIW,YAAY,GAAG;IACX,MAAMX,aAAa,GAAGS,CAAC,CAAC,IAAI,CAAC,CAACT,aAAa;IAC3C,IAAIA,aAAa,EAAE;MACf,OAAO,CAACA,aAAa,CAAC;IAC1B;IACA,OAAO,EAAE;EACb;EACA;AACJ;AACA;EACI,IAAIhB,IAAI,GAAG;IACP,OAAOA,IAAI;EACf;EACA;AACJ;AACA;EACI,IAAIC,eAAe,GAAG;IAClB,OAAOA,eAAe;EAC1B;EACA;AACJ;AACA;EACI,IAAIC,SAAS,GAAG;IACZ,OAAOA,SAAS;EACpB;EACA;AACJ;AACA;EACI,IAAIC,cAAc,GAAG;IACjB,OAAOA,cAAc;EACzB;EACA;AACJ;AACA;AACA;EACI,IAAIyB,UAAU,GAAG;IACb,OAAOH,CAAC,CAAC,IAAI,CAAC,CAACJ,YAAY,GAAG,CAAC,GAAG,CAAC;EACvC;EACA;AACJ;AACA;AACA;AACA;EACIQ,eAAe,GAAG;IACdJ,CAAC,CAAC,IAAI,CAAC,CAACR,mBAAmB,GAAG,IAAI;EACtC;EACA;AACJ;AACA;AACA;AACA;EACI,IAAIa,YAAY,GAAG;IACf,OAAOL,CAAC,CAAC,IAAI,CAAC,CAACR,mBAAmB;EACtC;EACA;AACJ;AACA;AACA;AACA;EACI,IAAIa,YAAY,CAACjE,KAAK,EAAE;IACpB,IAAIA,KAAK,EAAE;MACP4D,CAAC,CAAC,IAAI,CAAC,CAACR,mBAAmB,GAAG,IAAI;IACtC,CAAC,MACI;MACD1B,8BAA8B,CAACJ,IAAI,EAAE;IACzC;EACJ;EACA;AACJ;AACA;AACA;EACI4C,wBAAwB,GAAG;IACvB,MAAMC,IAAI,GAAGP,CAAC,CAAC,IAAI,CAAC;IACpBO,IAAI,CAACf,mBAAmB,GAAGe,IAAI,CAACd,4BAA4B,GAAG,IAAI;EACvE;EACA;AACJ;AACA;AACA;EACI,IAAIP,OAAO,GAAG;IACV,OAAOc,CAAC,CAAC,IAAI,CAAC,CAACd,OAAO;EAC1B;EACA;AACJ;AACA;AACA;EACI,IAAIE,UAAU,GAAG;IACb,OAAOY,CAAC,CAAC,IAAI,CAAC,CAACZ,UAAU;EAC7B;EACA;AACJ;AACA;AACA;AACA;EACI,IAAIoB,WAAW,GAAG;IACd,OAAO,CAACR,CAAC,CAAC,IAAI,CAAC,CAACN,YAAY;EAChC;EACA;AACJ;AACA;AACA;AACA;EACI,IAAIc,WAAW,CAACpE,KAAK,EAAE;IACnB,IAAI,CAACA,KAAK,EAAE;MACRqE,aAAa,CAACT,CAAC,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC,MACI;MACDjC,8BAA8B,CAACL,IAAI,EAAE;IACzC;EACJ;EACA;AACJ;AACA;AACA;EACIgD,cAAc,GAAG;IACbD,aAAa,CAACT,CAAC,CAAC,IAAI,CAAC,CAAC;EAC1B;EACA;AACJ;AACA;AACA;EACI,IAAIW,gBAAgB,GAAG;IACnB,OAAOX,CAAC,CAAC,IAAI,CAAC,CAACN,YAAY;EAC/B;EACA;AACJ;AACA;EACI,IAAIL,QAAQ,GAAG;IACX,OAAOW,CAAC,CAAC,IAAI,CAAC,CAACX,QAAQ;EAC3B;EACA;AACJ;AACA;EACI;EACA,IAAIuB,SAAS,GAAG;IACZ,OAAO,KAAK;EAChB;EACA;AACJ;AACA;EACI,IAAIf,SAAS,GAAG;IACZ,OAAOG,CAAC,CAAC,IAAI,CAAC,CAACH,SAAS;EAC5B;EACA;AACJ;AACA;EACIgB,SAAS,CAAClC,IAAI,EAAEO,OAAO,GAAG,KAAK,EAAEE,UAAU,GAAG,KAAK,EAAE;IACjD,MAAMmB,IAAI,GAAGP,CAAC,CAAC,IAAI,CAAC;IACpB,IAAIO,IAAI,CAACX,YAAY,EAAE;MACnB/B,kCAAkC,CAACH,IAAI,EAAE;MACzC;IACJ;IACAsB,eAAe,CAACC,GAAG,CAAC,IAAI,EAAE;MACtB,GAAGsB,IAAI;MACP5B,IAAI,EAAE9C,MAAM,CAAC8C,IAAI,CAAC;MAClBO,OAAO,EAAEC,OAAO,CAACD,OAAO,CAAC;MACzBE,UAAU,EAAED,OAAO,CAACC,UAAU,CAAC;MAC/BE,MAAM,EAAE,IAAI;MACZC,aAAa,EAAE,IAAI;MACnBC,mBAAmB,EAAE,KAAK;MAC1BC,4BAA4B,EAAE,KAAK;MACnCC,YAAY,EAAE;IAClB,CAAC,CAAC;EACN;AACJ;AACA;AACA;AACA;AACA,MAAMnB,IAAI,GAAG,CAAC;AACd,MAAMC,eAAe,GAAG,CAAC;AACzB,MAAMC,SAAS,GAAG,CAAC;AACnB,MAAMC,cAAc,GAAG,CAAC;AACxB;AACA;AACA;AACA,MAAMM,eAAe,GAAG,IAAI8B,OAAO,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,SAASd,CAAC,CAACe,KAAK,EAAEC,IAAI,GAAG,MAAM,EAAE;EAC7B,MAAMC,IAAI,GAAGjC,eAAe,CAACkC,GAAG,CAACH,KAAK,CAAC;EACvC5F,UAAU,CAAC8F,IAAI,IAAI,IAAI,EAAE,gFAAgF,EAAED,IAAI,EAAED,KAAK,CAAC;EACvH,OAAOE,IAAI;AACf;AACA;AACA;AACA;AACA;AACA,SAASR,aAAa,CAACF,IAAI,EAAE;EACzB,IAAIA,IAAI,CAACZ,qBAAqB,EAAE;IAC5B1B,yBAAyB,CAACP,IAAI,EAAE;IAChC;EACJ;EACA,IAAI,CAAC6C,IAAI,CAACnB,UAAU,EAAE;IAClBpB,6BAA6B,CAACN,IAAI,EAAE;IACpC;EACJ;EACA6C,IAAI,CAACb,YAAY,GAAG,IAAI;AAC5B;AACA;AACA5D,MAAM,CAAC+C,cAAc,CAACP,KAAK,EAAE,MAAM,EAAE;EAAEQ,UAAU,EAAE;AAAK,CAAC,CAAC;AAC1DhD,MAAM,CAAC+C,cAAc,CAACP,KAAK,EAAE,iBAAiB,EAAE;EAAEQ,UAAU,EAAE;AAAK,CAAC,CAAC;AACrEhD,MAAM,CAAC+C,cAAc,CAACP,KAAK,EAAE,WAAW,EAAE;EAAEQ,UAAU,EAAE;AAAK,CAAC,CAAC;AAC/DhD,MAAM,CAAC+C,cAAc,CAACP,KAAK,EAAE,gBAAgB,EAAE;EAAEQ,UAAU,EAAE;AAAK,CAAC,CAAC;AACpE,MAAMqC,IAAI,GAAGrF,MAAM,CAACsF,mBAAmB,CAAC9C,KAAK,CAACvC,SAAS,CAAC;AACxD,KAAK,IAAIN,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0F,IAAI,CAACE,MAAM,EAAE,EAAE5F,CAAC,EAAE;EAClC,IAAI0F,IAAI,CAAC1F,CAAC,CAAC,KAAK,aAAa,EAAE;IAC3B;EACJ;EACAK,MAAM,CAAC+C,cAAc,CAACP,KAAK,CAACvC,SAAS,EAAEoF,IAAI,CAAC1F,CAAC,CAAC,EAAE;IAAEqD,UAAU,EAAE;EAAK,CAAC,CAAC;AACzE;AACA;AACA,IAAI,OAAO9B,MAAM,KAAK,WAAW,IAAI,OAAOA,MAAM,CAACsB,KAAK,KAAK,WAAW,EAAE;EACtExC,MAAM,CAACwF,cAAc,CAAChD,KAAK,CAACvC,SAAS,EAAEiB,MAAM,CAACsB,KAAK,CAACvC,SAAS,CAAC;AAClE;;AAEA;AACA;AACA;AACA;AACA,SAASwF,uBAAuB,CAAClG,OAAO,EAAE;EACtC,IAAI2B,MAAM,CAACwE,YAAY,EAAE;IACrB,OAAO,IAAIxE,MAAM,CAACwE,YAAY,CAACnG,OAAO,EAAE,mBAAmB,CAAC;EAChE;EACA,IAAImG,YAAY,IAAI,IAAI,EAAE;IACtBA,YAAY,GAAG,MAAMA,YAAY,SAAS/E,KAAK,CAAC;MAC5Ce,WAAW,CAACiE,GAAG,EAAE;QACb,KAAK,CAACA,GAAG,CAAC;QACV,IAAIhF,KAAK,CAACiF,iBAAiB,EAAE;UACzBjF,KAAK,CAACiF,iBAAiB,CAAC,IAAI,EAAEF,YAAY,CAAC;QAC/C;MACJ;MACA;MACA,IAAI/D,IAAI,GAAG;QACP,OAAO,EAAE;MACb;MACA;MACA,IAAIuD,IAAI,GAAG;QACP,OAAO,mBAAmB;MAC9B;IACJ,CAAC;IACDlF,MAAM,CAAC6F,gBAAgB,CAACH,YAAY,CAACzF,SAAS,EAAE;MAC5C0B,IAAI,EAAE;QAAEqB,UAAU,EAAE;MAAK,CAAC;MAC1BkC,IAAI,EAAE;QAAElC,UAAU,EAAE;MAAK;IAC7B,CAAC,CAAC;IACF8C,yBAAyB,CAACJ,YAAY,CAAC;IACvCI,yBAAyB,CAACJ,YAAY,CAACzF,SAAS,CAAC;EACrD;EACA,OAAO,IAAIyF,YAAY,CAACnG,OAAO,CAAC;AACpC;AACA;AACA;AACA;AACA,IAAImG,YAAY;AAChB,MAAMK,YAAY,GAAG;EACjBC,cAAc,EAAE,CAAC;EACjBC,kBAAkB,EAAE,CAAC;EACrBC,qBAAqB,EAAE,CAAC;EACxBC,kBAAkB,EAAE,CAAC;EACrBC,qBAAqB,EAAE,CAAC;EACxBC,mBAAmB,EAAE,CAAC;EACtBC,2BAA2B,EAAE,CAAC;EAC9BC,aAAa,EAAE,CAAC;EAChBC,iBAAiB,EAAE,CAAC;EACpBC,mBAAmB,EAAE,EAAE;EACvBC,iBAAiB,EAAE,EAAE;EACrBC,UAAU,EAAE,EAAE;EACdC,wBAAwB,EAAE,EAAE;EAC5BC,aAAa,EAAE,EAAE;EACjBC,kBAAkB,EAAE,EAAE;EACtBC,cAAc,EAAE,EAAE;EAClBC,iBAAiB,EAAE,EAAE;EACrBC,YAAY,EAAE,EAAE;EAChBC,WAAW,EAAE,EAAE;EACfC,SAAS,EAAE,EAAE;EACbC,gBAAgB,EAAE,EAAE;EACpBC,kBAAkB,EAAE,EAAE;EACtBC,WAAW,EAAE,EAAE;EACfC,qBAAqB,EAAE,EAAE;EACzBC,cAAc,EAAE;AACpB,CAAC;AACD,SAAS1B,yBAAyB,CAAC2B,GAAG,EAAE;EACpC,MAAMpC,IAAI,GAAGrF,MAAM,CAACqF,IAAI,CAACU,YAAY,CAAC;EACtC,KAAK,IAAIpG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0F,IAAI,CAACE,MAAM,EAAE,EAAE5F,CAAC,EAAE;IAClC,MAAM+H,GAAG,GAAGrC,IAAI,CAAC1F,CAAC,CAAC;IACnB,MAAMW,KAAK,GAAGyF,YAAY,CAAC2B,GAAG,CAAC;IAC/B1H,MAAM,CAAC+C,cAAc,CAAC0E,GAAG,EAAEC,GAAG,EAAE;MAC5BtC,GAAG,GAAG;QACF,OAAO9E,KAAK;MAChB,CAAC;MACDqH,YAAY,EAAE,IAAI;MAClB3E,UAAU,EAAE;IAChB,CAAC,CAAC;EACN;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM4E,YAAY,SAASpF,KAAK,CAAC;EAC7B;AACJ;AACA;AACA;EACI,OAAOqF,IAAI,CAAC5C,KAAK,EAAE;IACf,OAAO,KAAK6C,iBAAiB,CAAC7C,KAAK,CAAC,EAAEA,KAAK,CAAC;EAChD;EACAvD,WAAW,CAACuD,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAACpC,IAAI,EAAE;MACdO,OAAO,EAAE6B,KAAK,CAAC7B,OAAO;MACtBE,UAAU,EAAE2B,KAAK,CAAC3B,UAAU;MAC5BC,QAAQ,EAAE0B,KAAK,CAAC1B;IACpB,CAAC,CAAC;IACF,IAAI0B,KAAK,CAACV,YAAY,EAAE;MACpB,KAAK,CAACD,eAAe,EAAE;IAC3B;IACA,IAAIW,KAAK,CAACJ,gBAAgB,EAAE;MACxB,KAAK,CAACD,cAAc,EAAE;IAC1B;IACAmD,iBAAiB,CAAC5E,GAAG,CAAC,IAAI,EAAE;MAAE6E,QAAQ,EAAE/C;IAAM,CAAC,CAAC;IAChD;IACA,MAAMI,IAAI,GAAGrF,MAAM,CAACqF,IAAI,CAACJ,KAAK,CAAC;IAC/B,KAAK,IAAItF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0F,IAAI,CAACE,MAAM,EAAE,EAAE5F,CAAC,EAAE;MAClC,MAAM+H,GAAG,GAAGrC,IAAI,CAAC1F,CAAC,CAAC;MACnB,IAAI,EAAE+H,GAAG,IAAI,IAAI,CAAC,EAAE;QAChB1H,MAAM,CAAC+C,cAAc,CAAC,IAAI,EAAE2E,GAAG,EAAEO,wBAAwB,CAAChD,KAAK,EAAEyC,GAAG,CAAC,CAAC;MAC1E;IACJ;EACJ;EACApD,eAAe,GAAG;IACd,KAAK,CAACA,eAAe,EAAE;IACvB,MAAM;MAAE0D;IAAS,CAAC,GAAGE,GAAG,CAAC,IAAI,CAAC;IAC9B,IAAI,iBAAiB,IAAIF,QAAQ,EAAE;MAC/BA,QAAQ,CAAC1D,eAAe,EAAE;IAC9B;EACJ;EACA,IAAIC,YAAY,GAAG;IACf,OAAO,KAAK,CAACA,YAAY;EAC7B;EACA,IAAIA,YAAY,CAACjE,KAAK,EAAE;IACpB,KAAK,CAACiE,YAAY,GAAGjE,KAAK;IAC1B,MAAM;MAAE0H;IAAS,CAAC,GAAGE,GAAG,CAAC,IAAI,CAAC;IAC9B,IAAI,cAAc,IAAIF,QAAQ,EAAE;MAC5BA,QAAQ,CAACzD,YAAY,GAAGjE,KAAK;IACjC;EACJ;EACAkE,wBAAwB,GAAG;IACvB,KAAK,CAACA,wBAAwB,EAAE;IAChC,MAAM;MAAEwD;IAAS,CAAC,GAAGE,GAAG,CAAC,IAAI,CAAC;IAC9B,IAAI,0BAA0B,IAAIF,QAAQ,EAAE;MACxCA,QAAQ,CAACxD,wBAAwB,EAAE;IACvC;EACJ;EACA,IAAIE,WAAW,GAAG;IACd,OAAO,KAAK,CAACA,WAAW;EAC5B;EACA,IAAIA,WAAW,CAACpE,KAAK,EAAE;IACnB,KAAK,CAACoE,WAAW,GAAGpE,KAAK;IACzB,MAAM;MAAE0H;IAAS,CAAC,GAAGE,GAAG,CAAC,IAAI,CAAC;IAC9B,IAAI,aAAa,IAAIF,QAAQ,EAAE;MAC3BA,QAAQ,CAACtD,WAAW,GAAGpE,KAAK;IAChC;EACJ;EACAsE,cAAc,GAAG;IACb,KAAK,CAACA,cAAc,EAAE;IACtB,MAAM;MAAEoD;IAAS,CAAC,GAAGE,GAAG,CAAC,IAAI,CAAC;IAC9B,IAAI,gBAAgB,IAAIF,QAAQ,EAAE;MAC9BA,QAAQ,CAACpD,cAAc,EAAE;IAC7B;EACJ;EACA,IAAIb,SAAS,GAAG;IACZ,MAAM;MAAEiE;IAAS,CAAC,GAAGE,GAAG,CAAC,IAAI,CAAC;IAC9B,IAAI,WAAW,IAAIF,QAAQ,EAAE;MACzB,OAAOA,QAAQ,CAACjE,SAAS;IAC7B;IACA,OAAO,KAAK,CAACA,SAAS;EAC1B;AACJ;AACA;AACA;AACA;AACA,MAAMgE,iBAAiB,GAAG,IAAI/C,OAAO,EAAE;AACvC;AACA;AACA;AACA;AACA;AACA,SAASkD,GAAG,CAACjD,KAAK,EAAE;EAChB,MAAME,IAAI,GAAG4C,iBAAiB,CAAC3C,GAAG,CAACH,KAAK,CAAC;EACzC5F,UAAU,CAAC8F,IAAI,IAAI,IAAI,EAAE,6CAA6C,EAAEF,KAAK,CAAC;EAC9E,OAAOE,IAAI;AACf;AACA;AACA;AACA;AACA;AACA;AACA,MAAMgD,iBAAiB,GAAG,IAAInD,OAAO,EAAE;AACvC;AACAmD,iBAAiB,CAAChF,GAAG,CAACnD,MAAM,CAACC,SAAS,EAAE2H,YAAY,CAAC;AACrD,IAAI,OAAO1G,MAAM,KAAK,WAAW,IAAI,OAAOA,MAAM,CAACsB,KAAK,KAAK,WAAW,EAAE;EACtE2F,iBAAiB,CAAChF,GAAG,CAACjC,MAAM,CAACsB,KAAK,CAACvC,SAAS,EAAE2H,YAAY,CAAC;AAC/D;AACA;AACA;AACA;AACA;AACA,SAASE,iBAAiB,CAACM,aAAa,EAAE;EACtC,MAAMnI,SAAS,GAAGD,MAAM,CAACqI,cAAc,CAACD,aAAa,CAAC;EACtD,IAAInI,SAAS,IAAI,IAAI,EAAE;IACnB,OAAO2H,YAAY;EACvB;EACA,IAAIU,OAAO,GAAGH,iBAAiB,CAAC/C,GAAG,CAACnF,SAAS,CAAC;EAC9C,IAAIqI,OAAO,IAAI,IAAI,EAAE;IACjBA,OAAO,GAAGC,aAAa,CAACT,iBAAiB,CAAC7H,SAAS,CAAC,EAAEA,SAAS,CAAC;IAChEkI,iBAAiB,CAAChF,GAAG,CAAClD,SAAS,EAAEqI,OAAO,CAAC;EAC7C;EACA,OAAOA,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,aAAa,CAACC,gBAAgB,EAAEC,iBAAiB,EAAE;EACxD,MAAMC,kBAAkB,SAASF,gBAAgB,CAAC;EAElD,MAAMnD,IAAI,GAAGrF,MAAM,CAACqF,IAAI,CAACoD,iBAAiB,CAAC;EAC3C,KAAK,IAAI9I,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0F,IAAI,CAACE,MAAM,EAAE,EAAE5F,CAAC,EAAE;IAClCK,MAAM,CAAC+C,cAAc,CAAC2F,kBAAkB,CAACzI,SAAS,EAAEoF,IAAI,CAAC1F,CAAC,CAAC,EAAEsI,wBAAwB,CAACQ,iBAAiB,EAAEpD,IAAI,CAAC1F,CAAC,CAAC,CAAC,CAAC;EACtH;EACA,OAAO+I,kBAAkB;AAC7B;AACA;AACA;AACA;AACA,SAAST,wBAAwB,CAACR,GAAG,EAAEC,GAAG,EAAE;EACxC,MAAMiB,CAAC,GAAG3I,MAAM,CAAC4I,wBAAwB,CAACnB,GAAG,EAAEC,GAAG,CAAC;EACnD,OAAO;IACHtC,GAAG,GAAG;MACF,MAAM4C,QAAQ,GAAGE,GAAG,CAAC,IAAI,CAAC,CAACF,QAAQ;MACnC,MAAM1H,KAAK,GAAG0H,QAAQ,CAACN,GAAG,CAAC;MAC3B,IAAI,OAAOpH,KAAK,KAAK,UAAU,EAAE;QAC7B,OAAOA,KAAK,CAACuI,IAAI,CAACb,QAAQ,CAAC;MAC/B;MACA,OAAO1H,KAAK;IAChB,CAAC;IACD6C,GAAG,CAAC7C,KAAK,EAAE;MACP,MAAM0H,QAAQ,GAAGE,GAAG,CAAC,IAAI,CAAC,CAACF,QAAQ;MACnCA,QAAQ,CAACN,GAAG,CAAC,GAAGpH,KAAK;IACzB,CAAC;IACDqH,YAAY,EAAEgB,CAAC,CAAChB,YAAY;IAC5B3E,UAAU,EAAE2F,CAAC,CAAC3F;EAClB,CAAC;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS8F,cAAc,CAACC,QAAQ,EAAEC,OAAO,EAAEC,OAAO,EAAEC,IAAI,EAAEC,MAAM,EAAEC,cAAc,EAAE;EAC9E,OAAO;IACHL,QAAQ;IACRM,KAAK,EAAE,CAACL,OAAO,GAAG,CAAC,CAAC,gBAAgB,CAAC,KAChCC,OAAO,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC,IAC9BC,IAAI,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC;IAC7BC,MAAM;IACNC;EACJ,CAAC;AACL;AACA;AACA;AACA;AACA;AACA,SAASE,UAAU,CAACC,QAAQ,EAAE;EAC1BA,QAAQ,CAACF,KAAK,IAAI,CAAC,CAAC;AACxB;AACA;AACA;AACA;AACA;AACA,SAASG,SAAS,CAACD,QAAQ,EAAE;EACzB,OAAO,CAACA,QAAQ,CAACF,KAAK,GAAG,CAAC,CAAC,mBAAmB,CAAC,CAAC;AACpD;AACA;AACA;AACA;AACA;AACA,SAASI,SAAS,CAACF,QAAQ,EAAE;EACzB,OAAO,CAACA,QAAQ,CAACF,KAAK,GAAG,CAAC,CAAC,mBAAmB,CAAC,CAAC;AACpD;AACA;AACA;AACA;AACA;AACA,SAASK,MAAM,CAACH,QAAQ,EAAE;EACtB,OAAO,CAACA,QAAQ,CAACF,KAAK,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC;AACjD;AACA;AACA;AACA;AACA;AACA,SAASM,SAAS,CAACJ,QAAQ,EAAE;EACzB,OAAO,CAACA,QAAQ,CAACF,KAAK,GAAG,CAAC,CAAC,mBAAmB,CAAC,CAAC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASO,cAAc,CAAC;EAAEb;AAAS,CAAC,EAAEvF,MAAM,EAAEyB,KAAK,EAAE;EACjD,IAAI;IACA,IAAI,OAAO8D,QAAQ,KAAK,UAAU,EAAE;MAChCA,QAAQ,CAAC5I,IAAI,CAACqD,MAAM,EAAEyB,KAAK,CAAC;IAChC,CAAC,MACI,IAAI,OAAO8D,QAAQ,CAACc,WAAW,KAAK,UAAU,EAAE;MACjDd,QAAQ,CAACc,WAAW,CAAC5E,KAAK,CAAC;IAC/B;EACJ,CAAC,CACD,OAAO6E,WAAW,EAAE;IAChBtJ,WAAW,CAACsJ,WAAW,CAAC;EAC5B;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,mBAAmB,CAAC;EAAEC;AAAU,CAAC,EAAEjB,QAAQ,EAAEC,OAAO,EAAE;EAC3D,KAAK,IAAIrJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqK,SAAS,CAACzE,MAAM,EAAE,EAAE5F,CAAC,EAAE;IACvC,IAAIqK,SAAS,CAACrK,CAAC,CAAC,CAACoJ,QAAQ,KAAKA,QAAQ,IAClCS,SAAS,CAACQ,SAAS,CAACrK,CAAC,CAAC,CAAC,KAAKqJ,OAAO,EAAE;MACrC,OAAOrJ,CAAC;IACZ;EACJ;EACA,OAAO,CAAC,CAAC;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASsK,WAAW,CAACC,IAAI,EAAEnB,QAAQ,EAAEC,OAAO,EAAEC,OAAO,EAAEC,IAAI,EAAEC,MAAM,EAAE;EACjE,IAAIC,cAAc;EAClB,IAAID,MAAM,EAAE;IACRC,cAAc,GAAGe,cAAc,CAACtB,IAAI,CAAC,IAAI,EAAEqB,IAAI,EAAEnB,QAAQ,EAAEC,OAAO,CAAC;IACnEG,MAAM,CAACiB,gBAAgB,CAAC,OAAO,EAAEhB,cAAc,CAAC;EACpD;EACA,MAAMG,QAAQ,GAAGT,cAAc,CAACC,QAAQ,EAAEC,OAAO,EAAEC,OAAO,EAAEC,IAAI,EAAEC,MAAM,EAAEC,cAAc,CAAC;EACzF,IAAIc,IAAI,CAACG,GAAG,EAAE;IACVH,IAAI,CAACG,GAAG,GAAG,KAAK;IAChBH,IAAI,CAACF,SAAS,GAAG,CAAC,GAAGE,IAAI,CAACF,SAAS,EAAET,QAAQ,CAAC;EAClD,CAAC,MACI;IACDW,IAAI,CAACF,SAAS,CAACM,IAAI,CAACf,QAAQ,CAAC;EACjC;EACA,OAAOA,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASY,cAAc,CAACD,IAAI,EAAEnB,QAAQ,EAAEC,OAAO,EAAE;EAC7C,MAAMuB,KAAK,GAAGR,mBAAmB,CAACG,IAAI,EAAEnB,QAAQ,EAAEC,OAAO,CAAC;EAC1D,IAAIuB,KAAK,KAAK,CAAC,CAAC,EAAE;IACd,OAAOC,gBAAgB,CAACN,IAAI,EAAEK,KAAK,CAAC;EACxC;EACA,OAAO,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,gBAAgB,CAACN,IAAI,EAAEK,KAAK,EAAEE,UAAU,GAAG,KAAK,EAAE;EACvD,MAAMlB,QAAQ,GAAGW,IAAI,CAACF,SAAS,CAACO,KAAK,CAAC;EACtC;EACAjB,UAAU,CAACC,QAAQ,CAAC;EACpB;EACA,IAAIA,QAAQ,CAACJ,MAAM,EAAE;IACjBI,QAAQ,CAACJ,MAAM,CAACuB,mBAAmB,CAAC,OAAO,EAAEnB,QAAQ,CAACH,cAAc,CAAC;EACzE;EACA;EACA,IAAIc,IAAI,CAACG,GAAG,IAAI,CAACI,UAAU,EAAE;IACzBP,IAAI,CAACG,GAAG,GAAG,KAAK;IAChBH,IAAI,CAACF,SAAS,GAAGE,IAAI,CAACF,SAAS,CAACW,MAAM,CAAC,CAACC,CAAC,EAAEjL,CAAC,KAAKA,CAAC,KAAK4K,KAAK,CAAC;IAC7D,OAAO,KAAK;EAChB;EACAL,IAAI,CAACF,SAAS,CAACa,MAAM,CAACN,KAAK,EAAE,CAAC,CAAC;EAC/B,OAAO,IAAI;AACf;;AAEA;AACA;AACA;AACA,SAASO,qBAAqB,GAAG;EAC7B,OAAO9K,MAAM,CAAC+K,MAAM,CAAC,IAAI,CAAC;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,kBAAkB,CAACC,WAAW,EAAEpI,IAAI,EAAE;EAC3C,IAAI5B,EAAE;EACN,OAAQ,CAACA,EAAE,GAAGgK,WAAW,CAACpI,IAAI,CAAC,MAAM,IAAI,IAAI5B,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAIgK,WAAW,CAACpI,IAAI,CAAC,GAAG;IACnFqI,YAAY,EAAE3K,SAAS;IACvB4K,YAAY,EAAE5K,SAAS;IACvB8J,GAAG,EAAE,KAAK;IACVL,SAAS,EAAE;EACf,CAAE;AACN;;AAEA;AACA;AACA;AACA;AACA,MAAMoB,WAAW,CAAC;EACd;AACJ;AACA;EACI1J,WAAW,GAAG;IACV2J,iBAAiB,CAAClI,GAAG,CAAC,IAAI,EAAE2H,qBAAqB,EAAE,CAAC;EACxD;EACA;EACAV,gBAAgB,CAACkB,KAAK,EAAEC,SAAS,EAAEC,QAAQ,EAAE;IACzC,MAAMP,WAAW,GAAGQ,GAAG,CAAC,IAAI,CAAC;IAC7B,MAAM;MAAE1C,QAAQ;MAAEC,OAAO;MAAEE,IAAI;MAAED,OAAO;MAAEE,MAAM;MAAEtG;IAAM,CAAC,GAAG6I,mBAAmB,CAACJ,KAAK,EAAEC,SAAS,EAAEC,QAAQ,CAAC;IAC3G,IAAIzC,QAAQ,IAAI,IAAI,KAAKI,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACwC,OAAO,CAAC,EAAE;MACtF;IACJ;IACA,MAAMzB,IAAI,GAAGc,kBAAkB,CAACC,WAAW,EAAEpI,IAAI,CAAC;IAClD;IACA,MAAMlD,CAAC,GAAGoK,mBAAmB,CAACG,IAAI,EAAEnB,QAAQ,EAAEC,OAAO,CAAC;IACtD,IAAIrJ,CAAC,KAAK,CAAC,CAAC,EAAE;MACViM,aAAa,CAAC1B,IAAI,CAACF,SAAS,CAACrK,CAAC,CAAC,EAAEsJ,OAAO,EAAEC,IAAI,EAAEC,MAAM,CAAC;MACvD;IACJ;IACA;IACAc,WAAW,CAACC,IAAI,EAAEnB,QAAQ,EAAEC,OAAO,EAAEC,OAAO,EAAEC,IAAI,EAAEC,MAAM,CAAC;EAC/D;EACA;EACAuB,mBAAmB,CAACY,KAAK,EAAEC,SAAS,EAAEC,QAAQ,EAAE;IAC5C,MAAMP,WAAW,GAAGQ,GAAG,CAAC,IAAI,CAAC;IAC7B,MAAM;MAAE1C,QAAQ;MAAEC,OAAO;MAAEnG;IAAK,CAAC,GAAGgJ,gBAAgB,CAACP,KAAK,EAAEC,SAAS,EAAEC,QAAQ,CAAC;IAChF,MAAMtB,IAAI,GAAGe,WAAW,CAACpI,IAAI,CAAC;IAC9B,IAAIkG,QAAQ,IAAI,IAAI,IAAImB,IAAI,EAAE;MAC1BC,cAAc,CAACD,IAAI,EAAEnB,QAAQ,EAAEC,OAAO,CAAC;IAC3C;EACJ;EACA;EACApI,aAAa,CAACkL,CAAC,EAAE;IACb,MAAM5B,IAAI,GAAGuB,GAAG,CAAC,IAAI,CAAC,CAAC1L,MAAM,CAAC+L,CAAC,CAACjJ,IAAI,CAAC,CAAC;IACtC,IAAIqH,IAAI,IAAI,IAAI,EAAE;MACd,OAAO,IAAI;IACf;IACA,MAAMjF,KAAK,GAAG6G,CAAC,YAAYtJ,KAAK,GAAGsJ,CAAC,GAAGlE,YAAY,CAACC,IAAI,CAACiE,CAAC,CAAC;IAC3D,MAAMC,SAAS,GAAG7H,CAAC,CAACe,KAAK,EAAE,OAAO,CAAC;IACnC,IAAI8G,SAAS,CAACjI,YAAY,EAAE;MACxB,MAAM2B,uBAAuB,CAAC,qCAAqC,CAAC;IACxE;IACAsG,SAAS,CAACjI,YAAY,GAAG,IAAI;IAC7BiI,SAAS,CAACvI,MAAM,GAAGuI,SAAS,CAACtI,aAAa,GAAG,IAAI;IACjD,IAAI,CAACsI,SAAS,CAACrI,mBAAmB,EAAE;MAChC,MAAM;QAAE2G,GAAG;QAAEL;MAAU,CAAC,GAAGE,IAAI;MAC/B;MACAA,IAAI,CAACG,GAAG,GAAG,IAAI;MACf;MACA,KAAK,IAAI1K,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqK,SAAS,CAACzE,MAAM,EAAE,EAAE5F,CAAC,EAAE;QACvC,MAAM4J,QAAQ,GAAGS,SAAS,CAACrK,CAAC,CAAC;QAC7B;QACA,IAAIgK,SAAS,CAACJ,QAAQ,CAAC,EAAE;UACrB;QACJ;QACA;QACA,IAAIG,MAAM,CAACH,QAAQ,CAAC,IAAIiB,gBAAgB,CAACN,IAAI,EAAEvK,CAAC,EAAE,CAAC0K,GAAG,CAAC,EAAE;UACrD;UACA;UACA1K,CAAC,IAAI,CAAC;QACV;QACA;QACAoM,SAAS,CAAClI,qBAAqB,GAAG4F,SAAS,CAACF,QAAQ,CAAC;QACrDK,cAAc,CAACL,QAAQ,EAAE,IAAI,EAAEtE,KAAK,CAAC;QACrC8G,SAAS,CAAClI,qBAAqB,GAAG,KAAK;QACvC;QACA,IAAIkI,SAAS,CAACpI,4BAA4B,EAAE;UACxC;QACJ;MACJ;MACA;MACA,IAAI,CAAC0G,GAAG,EAAE;QACNH,IAAI,CAACG,GAAG,GAAG,KAAK;MACpB;IACJ;IACA0B,SAAS,CAACvI,MAAM,GAAG,IAAI;IACvBuI,SAAS,CAACtI,aAAa,GAAG,IAAI;IAC9BsI,SAAS,CAACpI,4BAA4B,GAAG,KAAK;IAC9CoI,SAAS,CAACrI,mBAAmB,GAAG,KAAK;IACrCqI,SAAS,CAACjI,YAAY,GAAG,KAAK;IAC9B,OAAO,CAACiI,SAAS,CAACnI,YAAY;EAClC;AACJ;AACA;AACA;AACA;AACA,MAAMyH,iBAAiB,GAAG,IAAIrG,OAAO,EAAE;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,SAASyG,GAAG,CAACjI,MAAM,EAAE0B,IAAI,GAAG,MAAM,EAAE;EAChC,MAAMC,IAAI,GAAGkG,iBAAiB,CAACjG,GAAG,CAAC5B,MAAM,CAAC;EAC1CnE,UAAU,CAAC8F,IAAI,IAAI,IAAI,EAAE,sFAAsF,EAAED,IAAI,EAAE1B,MAAM,CAAC;EAC9H,OAAO2B,IAAI;AACf;AACA;AACA;AACA;AACA;AACA,SAASuG,mBAAmB,CAAC7I,IAAI,EAAEkG,QAAQ,EAAEiD,OAAO,EAAE;EAClD,IAAI/K,EAAE;EACNgL,cAAc,CAAClD,QAAQ,CAAC;EACxB,IAAI,OAAOiD,OAAO,KAAK,QAAQ,IAAIA,OAAO,KAAK,IAAI,EAAE;IACjD,OAAO;MACHnJ,IAAI,EAAE9C,MAAM,CAAC8C,IAAI,CAAC;MAClBkG,QAAQ,EAAEA,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,GAAGA,QAAQ,GAAGxI,SAAS;MACzEyI,OAAO,EAAE3F,OAAO,CAAC2I,OAAO,CAAChD,OAAO,CAAC;MACjCC,OAAO,EAAE5F,OAAO,CAAC2I,OAAO,CAAC/C,OAAO,CAAC;MACjCC,IAAI,EAAE7F,OAAO,CAAC2I,OAAO,CAAC9C,IAAI,CAAC;MAC3BC,MAAM,EAAE,CAAClI,EAAE,GAAG+K,OAAO,CAAC7C,MAAM,MAAM,IAAI,IAAIlI,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAGV;IACnE,CAAC;EACL;EACA,OAAO;IACHsC,IAAI,EAAE9C,MAAM,CAAC8C,IAAI,CAAC;IAClBkG,QAAQ,EAAEA,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,GAAGA,QAAQ,GAAGxI,SAAS;IACzEyI,OAAO,EAAE3F,OAAO,CAAC2I,OAAO,CAAC;IACzB/C,OAAO,EAAE,KAAK;IACdC,IAAI,EAAE,KAAK;IACXC,MAAM,EAAE5I;EACZ,CAAC;AACL;AACA;AACA;AACA;AACA;AACA,SAASsL,gBAAgB,CAAChJ,IAAI,EAAEkG,QAAQ,EAAEiD,OAAO,EAAE;EAC/CC,cAAc,CAAClD,QAAQ,CAAC;EACxB,IAAI,OAAOiD,OAAO,KAAK,QAAQ,IAAIA,OAAO,KAAK,IAAI,EAAE;IACjD,OAAO;MACHnJ,IAAI,EAAE9C,MAAM,CAAC8C,IAAI,CAAC;MAClBkG,QAAQ,EAAEA,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,GAAGA,QAAQ,GAAGxI,SAAS;MACzEyI,OAAO,EAAE3F,OAAO,CAAC2I,OAAO,CAAChD,OAAO;IACpC,CAAC;EACL;EACA,OAAO;IACHnG,IAAI,EAAE9C,MAAM,CAAC8C,IAAI,CAAC;IAClBkG,QAAQ,EAAEA,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,GAAGA,QAAQ,GAAGxI,SAAS;IACzEyI,OAAO,EAAE3F,OAAO,CAAC2I,OAAO;EAC5B,CAAC;AACL;AACA;AACA;AACA;AACA;AACA,SAASC,cAAc,CAAClD,QAAQ,EAAE;EAC9B,IAAI,OAAOA,QAAQ,KAAK,UAAU,IAC7B,OAAOA,QAAQ,KAAK,QAAQ,IACzBA,QAAQ,KAAK,IAAI,IACjB,OAAOA,QAAQ,CAACc,WAAW,KAAK,UAAW,EAAE;IACjD;EACJ;EACA,IAAId,QAAQ,IAAI,IAAI,IAAI,OAAOA,QAAQ,KAAK,QAAQ,EAAE;IAClDzG,oBAAoB,CAACV,IAAI,CAACmH,QAAQ,CAAC;IACnC;EACJ;EACA,MAAM,IAAItJ,SAAS,CAACC,MAAM,CAAC4C,oBAAoB,CAAC/C,OAAO,EAAE,CAACwJ,QAAQ,CAAC,CAAC,CAAC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS6C,aAAa,CAACrC,QAAQ,EAAEN,OAAO,EAAEC,IAAI,EAAEC,MAAM,EAAE;EACpD/G,0BAA0B,CAACR,IAAI,CAAC4H,SAAS,CAACD,QAAQ,CAAC,GAAG,SAAS,GAAG,QAAQ,EAAEA,QAAQ,CAACR,QAAQ,CAAC;EAC9F,IAAIU,SAAS,CAACF,QAAQ,CAAC,KAAKN,OAAO,EAAE;IACjC5G,gBAAgB,CAACT,IAAI,CAAC,SAAS,CAAC;EACpC;EACA,IAAI8H,MAAM,CAACH,QAAQ,CAAC,KAAKL,IAAI,EAAE;IAC3B7G,gBAAgB,CAACT,IAAI,CAAC,MAAM,CAAC;EACjC;EACA,IAAI2H,QAAQ,CAACJ,MAAM,KAAKA,MAAM,EAAE;IAC5B9G,gBAAgB,CAACT,IAAI,CAAC,QAAQ,CAAC;EACnC;AACJ;AACA;AACA,MAAMsK,MAAM,GAAGlM,MAAM,CAACsF,mBAAmB,CAAC8F,WAAW,CAACnL,SAAS,CAAC;AAChE,KAAK,IAAIN,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGuM,MAAM,CAAC3G,MAAM,EAAE,EAAE5F,CAAC,EAAE;EACpC,IAAIuM,MAAM,CAACvM,CAAC,CAAC,KAAK,aAAa,EAAE;IAC7B;EACJ;EACAK,MAAM,CAAC+C,cAAc,CAACqI,WAAW,CAACnL,SAAS,EAAEiM,MAAM,CAACvM,CAAC,CAAC,EAAE;IAAEqD,UAAU,EAAE;EAAK,CAAC,CAAC;AACjF;AACA;AACA,IAAI,OAAO9B,MAAM,KAAK,WAAW,IAC7B,OAAOA,MAAM,CAACkK,WAAW,KAAK,WAAW,EAAE;EAC3CpL,MAAM,CAACwF,cAAc,CAAC4F,WAAW,CAACnL,SAAS,EAAEiB,MAAM,CAACkK,WAAW,CAACnL,SAAS,CAAC;AAC9E;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASkM,sBAAsB,CAAC3I,MAAM,EAAEX,IAAI,EAAE;EAC1C,IAAI5B,EAAE,EAAEa,EAAE;EACV,MAAMsK,OAAO,GAAGX,GAAG,CAACjI,MAAM,EAAE,QAAQ,CAAC;EACrC,OAAO,CAAC1B,EAAE,GAAG,CAACb,EAAE,GAAGmL,OAAO,CAACvJ,IAAI,CAAC,MAAM,IAAI,IAAI5B,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACiK,YAAY,MAAM,IAAI,IAAIpJ,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,IAAI;AACjI;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASuK,sBAAsB,CAAC7I,MAAM,EAAEX,IAAI,EAAEkG,QAAQ,EAAE;EACpD,IAAIA,QAAQ,IAAI,IAAI,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;IACpDxG,uBAAuB,CAACX,IAAI,CAACmH,QAAQ,CAAC;EAC1C;EACA,IAAI,OAAOA,QAAQ,KAAK,UAAU,IAC7B,OAAOA,QAAQ,KAAK,QAAQ,IAAIA,QAAQ,KAAK,IAAK,EAAE;IACrDuD,4BAA4B,CAAC9I,MAAM,EAAEX,IAAI,EAAEkG,QAAQ,CAAC;EACxD,CAAC,MACI;IACDwD,4BAA4B,CAAC/I,MAAM,EAAEX,IAAI,CAAC;EAC9C;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASyJ,4BAA4B,CAAC9I,MAAM,EAAEX,IAAI,EAAEkG,QAAQ,EAAE;EAC1D,MAAMmB,IAAI,GAAGc,kBAAkB,CAACS,GAAG,CAACjI,MAAM,EAAE,QAAQ,CAAC,EAAEzD,MAAM,CAAC8C,IAAI,CAAC,CAAC;EACpEqH,IAAI,CAACgB,YAAY,GAAGnC,QAAQ;EAC5B,IAAImB,IAAI,CAACiB,YAAY,IAAI,IAAI,EAAE;IAC3BjB,IAAI,CAACiB,YAAY,GAAGlB,WAAW,CAACC,IAAI,EAAEsC,4BAA4B,CAACtC,IAAI,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE3J,SAAS,CAAC;EAC7G;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASgM,4BAA4B,CAAC/I,MAAM,EAAEX,IAAI,EAAE;EAChD,MAAMuJ,OAAO,GAAGX,GAAG,CAACjI,MAAM,EAAE,QAAQ,CAAC;EACrC,MAAM0G,IAAI,GAAGkC,OAAO,CAACrM,MAAM,CAAC8C,IAAI,CAAC,CAAC;EAClC,IAAIqH,IAAI,IAAIA,IAAI,CAACiB,YAAY,EAAE;IAC3BhB,cAAc,CAACD,IAAI,EAAEA,IAAI,CAACiB,YAAY,CAACpC,QAAQ,EAAE,KAAK,CAAC;IACvDmB,IAAI,CAACgB,YAAY,GAAGhB,IAAI,CAACiB,YAAY,GAAG5K,SAAS;EACrD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,SAASiM,4BAA4B,CAACtC,IAAI,EAAE;EACxC,OAAO,UAAUjF,KAAK,EAAE;IACpB,MAAM8D,QAAQ,GAAGmB,IAAI,CAACgB,YAAY;IAClC,IAAI,OAAOnC,QAAQ,KAAK,UAAU,EAAE;MAChCA,QAAQ,CAAC5I,IAAI,CAAC,IAAI,EAAE8E,KAAK,CAAC;IAC9B;EACJ,CAAC;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASwH,uBAAuB,CAAC,GAAGC,KAAK,EAAE;EACvC,MAAMC,iBAAiB,SAASvB,WAAW,CAAC;EAE5C,KAAK,IAAIzL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+M,KAAK,CAACnH,MAAM,EAAE,EAAE5F,CAAC,EAAE;IACnCiN,oBAAoB,CAACD,iBAAiB,CAAC1M,SAAS,EAAEyM,KAAK,CAAC/M,CAAC,CAAC,CAAC;EAC/D;EACA,OAAOgN,iBAAiB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,oBAAoB,CAACpJ,MAAM,EAAEX,IAAI,EAAEgK,WAAW,EAAE;EACrD7M,MAAM,CAAC+C,cAAc,CAACS,MAAM,EAAG,KAAIX,IAAK,EAAC,EAAE;IACvCuC,GAAG,GAAG;MACF,OAAO+G,sBAAsB,CAAC,IAAI,EAAEtJ,IAAI,CAAC;IAC7C,CAAC;IACDM,GAAG,CAAC7C,KAAK,EAAE;MACP+L,sBAAsB,CAAC,IAAI,EAAExJ,IAAI,EAAEvC,KAAK,CAAC;IAC7C,CAAC;IACDqH,YAAY,EAAE,IAAI;IAClB3E,UAAU,EAAE;EAChB,CAAC,CAAC;AACN;AAEA,eAAeoI,WAAW;AAC1B,SAAS5I,KAAK,EAAE4I,WAAW,EAAEqB,uBAAuB,EAAEG,oBAAoB,EAAET,sBAAsB,EAAE9L,eAAe,EAAEgM,sBAAsB,EAAE7K,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}