{"ast":null,"code":"import _asyncToGenerator from \"/Users/tima/kbtu/4thSemester/web/Lab4/angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { html } from 'lit';\nimport { property, query, queryAll, state } from 'lit/decorators.js';\nimport { styleMap } from 'lit/directives/style-map.js';\nimport { IgcCalendarResourceStringEN } from '../common/i18n/calendar.resources.js';\nimport { EventEmitterMixin } from '../common/mixins/event-emitter.js';\nimport { SizableMixin } from '../common/mixins/sizable.js';\nimport { partNameMap } from '../common/util.js';\nimport { IgcCalendarBaseComponent, MONTHS_PER_ROW, YEARS_PER_ROW } from './common/calendar-base.js';\nimport { TimeDeltaInterval } from './common/calendar.model.js';\nimport { calculateYearsRangeStart, setDateSafe } from './common/utils.js';\nimport { styles as bootstrap } from './themes/bootstrap/calendar.bootstrap.css.js';\nimport { styles } from './themes/calendar.base.css.js';\nimport { styles as fluent } from './themes/fluent/calendar.fluent.css.js';\nimport { themes } from '../../theming/theming-decorator.js';\nimport { watch } from '../common/decorators/watch.js';\nimport { defineComponents } from '../common/definitions/defineComponents.js';\nimport IgcYearsViewComponent from './years-view/years-view.js';\nimport IgcDaysViewComponent from './days-view/days-view.js';\nimport IgcMonthsViewComponent from './months-view/months-view.js';\nimport IgcIconComponent from '../icon/icon.js';\ndefineComponents(IgcIconComponent, IgcDaysViewComponent, IgcMonthsViewComponent, IgcYearsViewComponent);\nlet IgcCalendarComponent = class IgcCalendarComponent extends SizableMixin(EventEmitterMixin(IgcCalendarBaseComponent)) {\n  formattersChange() {\n    this.initFormatters();\n  }\n  constructor() {\n    super();\n    this.activeDaysViewIndex = 0;\n    this.hideOutsideDays = false;\n    this.hideHeader = false;\n    this.headerOrientation = 'horizontal';\n    this.orientation = 'horizontal';\n    this.visibleMonths = 1;\n    this.activeView = 'days';\n    this.formatOptions = {\n      month: 'long',\n      weekday: 'narrow'\n    };\n    this.resourceStrings = IgcCalendarResourceStringEN;\n    this.handleKeyDown = event => {\n      const tagName = event.target.tagName.toLowerCase();\n      if (tagName !== 'igc-days-view' && tagName !== 'igc-months-view' && tagName !== 'igc-years-view') {\n        return;\n      }\n      switch (event.key) {\n        case 'PageDown':\n          event.preventDefault();\n          if (event.shiftKey && this.activeView === 'days') {\n            this.nextYear();\n          } else {\n            this.navigateNext();\n          }\n          if (this.activeView === 'days') {\n            this.focusActiveDate();\n          }\n          break;\n        case 'PageUp':\n          event.preventDefault();\n          if (event.shiftKey && this.activeView === 'days') {\n            this.previousYear();\n          } else {\n            this.navigatePrevious();\n          }\n          if (this.activeView === 'days') {\n            this.focusActiveDate();\n          }\n          break;\n        case 'Home':\n          event.preventDefault();\n          if (this.activeView === 'days') {\n            const firstDaysView = this.daysViews[0];\n            const activeDate = firstDaysView.activeDate;\n            const date = new Date(activeDate);\n            date.setDate(1);\n            this.activeDate = date;\n            this.activeDaysViewIndex = 0;\n          } else if (this.activeView === 'months') {\n            const date = new Date(this.activeDate);\n            date.setMonth(0);\n            this.activeDate = date;\n          } else if (this.activeView === 'years') {\n            const startYear = calculateYearsRangeStart(this.activeDate, this.yearPerPage);\n            const date = new Date(this.activeDate);\n            date.setDate(1);\n            date.setFullYear(startYear);\n            setDateSafe(date, this.activeDate.getDate());\n            this.activeDate = date;\n          }\n          this.focusActiveDate();\n          break;\n        case 'End':\n          event.preventDefault();\n          if (this.activeView === 'days') {\n            const index = this.daysViews.length - 1;\n            const lastDaysView = this.daysViews[index];\n            const activeDate = lastDaysView.activeDate;\n            const date = new Date(activeDate);\n            date.setDate(1);\n            date.setMonth(date.getMonth() + 1);\n            date.setDate(0);\n            this.activeDate = date;\n            this.activeDaysViewIndex = index;\n          } else if (this.activeView === 'months') {\n            const date = new Date(this.activeDate);\n            date.setMonth(11);\n            this.activeDate = date;\n          } else if (this.activeView === 'years') {\n            const startYear = calculateYearsRangeStart(this.activeDate, this.yearPerPage);\n            const date = new Date(this.activeDate);\n            date.setDate(1);\n            date.setFullYear(startYear + this.yearPerPage - 1);\n            setDateSafe(date, this.activeDate.getDate());\n            this.activeDate = date;\n          }\n          this.focusActiveDate();\n          break;\n        case 'ArrowLeft':\n          event.preventDefault();\n          if (this.activeView === 'days') {\n            const date = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Day, -1);\n            if (this.visibleMonths > 1) {\n              const activeDayView = this.daysViews[this.activeDaysViewIndex];\n              const activeMonthDate = activeDayView.activeDate;\n              if (activeMonthDate.getMonth() !== date.getMonth()) {\n                this.activeDaysViewIndex = this.activeDaysViewIndex > 0 ? this.activeDaysViewIndex - 1 : 0;\n              }\n            }\n            this.activeDate = date;\n          } else if (this.activeView === 'months') {\n            this.previousMonth();\n          } else if (this.activeView === 'years') {\n            this.previousYear();\n          }\n          this.focusActiveDate();\n          break;\n        case 'ArrowRight':\n          event.preventDefault();\n          if (this.activeView === 'days') {\n            const date = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Day, 1);\n            if (this.visibleMonths > 1) {\n              const activeDayView = this.daysViews[this.activeDaysViewIndex];\n              const activeMonthDate = activeDayView.activeDate;\n              if (activeMonthDate.getMonth() !== date.getMonth()) {\n                this.activeDaysViewIndex = this.activeDaysViewIndex === this.visibleMonths - 1 ? this.activeDaysViewIndex : this.activeDaysViewIndex + 1;\n              }\n            }\n            this.activeDate = date;\n          } else if (this.activeView === 'months') {\n            this.nextMonth();\n          } else if (this.activeView === 'years') {\n            this.nextYear();\n          }\n          this.focusActiveDate();\n          break;\n        case 'ArrowUp':\n          event.preventDefault();\n          if (this.activeView === 'days') {\n            const date = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Week, -1);\n            if (this.visibleMonths > 1) {\n              const activeDayView = this.daysViews[this.activeDaysViewIndex];\n              const activeMonthDate = activeDayView.activeDate;\n              if (activeMonthDate.getMonth() !== date.getMonth()) {\n                this.activeDaysViewIndex = this.activeDaysViewIndex > 0 ? this.activeDaysViewIndex - 1 : 0;\n              }\n            }\n            this.activeDate = date;\n          } else if (this.activeView === 'months') {\n            this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Month, -MONTHS_PER_ROW);\n          } else if (this.activeView === 'years') {\n            this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Year, -YEARS_PER_ROW);\n          }\n          this.focusActiveDate();\n          break;\n        case 'ArrowDown':\n          event.preventDefault();\n          if (this.activeView === 'days') {\n            const date = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Week, 1);\n            if (this.visibleMonths > 1) {\n              const activeDayView = this.daysViews[this.activeDaysViewIndex];\n              const activeMonthDate = activeDayView.activeDate;\n              if (activeMonthDate.getMonth() !== date.getMonth()) {\n                this.activeDaysViewIndex = this.activeDaysViewIndex === this.visibleMonths - 1 ? this.activeDaysViewIndex : this.activeDaysViewIndex + 1;\n              }\n            }\n            this.activeDate = date;\n          } else if (this.activeView === 'months') {\n            this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Month, MONTHS_PER_ROW);\n          } else if (this.activeView === 'years') {\n            this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Year, YEARS_PER_ROW);\n          }\n          this.focusActiveDate();\n          break;\n      }\n    };\n    this.initFormatters();\n  }\n  get yearPerPage() {\n    return this.size === 'small' ? 18 : 15;\n  }\n  get previousButtonLabel() {\n    return this.activeView === 'days' ? this.resourceStrings.previousMonth : this.activeView === 'months' ? this.resourceStrings.previousYear : this.activeView === 'years' ? this.resourceStrings.previousYears.replace('{0}', this.yearPerPage.toString()) : '';\n  }\n  get nextButtonLabel() {\n    return this.activeView === 'days' ? this.resourceStrings.nextMonth : this.activeView === 'months' ? this.resourceStrings.nextYear : this.activeView === 'years' ? this.resourceStrings.nextYears.replace('{0}', this.yearPerPage.toString()) : '';\n  }\n  monthSelectLabel(activeDate) {\n    return activeDate.toLocaleString(this.locale, {\n      month: 'long'\n    }) + ', ' + this.resourceStrings.selectMonth;\n  }\n  yearSelectLabel(activeDate) {\n    return activeDate.getFullYear() + ', ' + this.resourceStrings.selectYear;\n  }\n  focusActiveDate() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.updateComplete;\n      if (_this.activeView === 'days') {\n        const daysView = _this.daysViews[_this.activeDaysViewIndex];\n        daysView.focusActiveDate();\n      } else if (_this.activeView === 'months') {\n        _this.monthsView.focusActiveDate();\n      } else if (_this.activeView === 'years') {\n        _this.yearsView.focusActiveDate();\n      }\n    })();\n  }\n  initFormatters() {\n    this.formatterMonth = new Intl.DateTimeFormat(this.locale, {\n      month: this.formatOptions.month\n    });\n    this.formatterWeekday = new Intl.DateTimeFormat(this.locale, {\n      weekday: 'short'\n    });\n    this.formatterMonthDay = new Intl.DateTimeFormat(this.locale, {\n      month: 'short',\n      day: 'numeric'\n    });\n  }\n  formattedMonth(value) {\n    return this.formatterMonth.format(value);\n  }\n  changeValue(event) {\n    event.stopPropagation();\n    const daysView = event.target;\n    let newValue;\n    if (this.selection === 'single') {\n      this.value = daysView.value;\n      newValue = this.value;\n    } else {\n      this.values = daysView.values;\n      newValue = this.values;\n    }\n    this.emitEvent('igcChange', {\n      detail: newValue\n    });\n  }\n  changeMonth(event) {\n    event.stopPropagation();\n    this.activeDate = event.target.value;\n    this.activeView = 'days';\n    this.focusActiveDate();\n  }\n  changeYear(event) {\n    event.stopPropagation();\n    this.activeDate = event.target.value;\n    this.activeView = 'months';\n    this.focusActiveDate();\n  }\n  switchToMonths(daysViewIndex) {\n    this.activateDaysView(daysViewIndex);\n    this.activeView = 'months';\n  }\n  switchToYears(daysViewIndex) {\n    if (this.activeView === 'days') {\n      this.activateDaysView(daysViewIndex);\n    }\n    this.activeView = 'years';\n  }\n  activateDaysView(daysViewIndex) {\n    const activeDaysView = this.daysViews[daysViewIndex];\n    this.activeDate = activeDaysView.activeDate;\n    this.activeDaysViewIndex = daysViewIndex;\n  }\n  activeDateChanged(event) {\n    const day = event.detail;\n    const daysViews = Array.from(this.daysViews);\n    this.activeDaysViewIndex = daysViews.indexOf(event.target);\n    this.activeDate = day.date;\n    if (!day.isCurrentMonth) {\n      this.focusActiveDate();\n    }\n  }\n  rangePreviewDateChange(event) {\n    this.rangePreviewDate = event.detail;\n  }\n  nextMonth() {\n    this.activeDate = this.calendarModel.getNextMonth(this.activeDate);\n  }\n  previousMonth() {\n    this.activeDate = this.calendarModel.getPrevMonth(this.activeDate);\n  }\n  nextYear() {\n    this.activeDate = this.calendarModel.getNextYear(this.activeDate);\n  }\n  previousYear() {\n    this.activeDate = this.calendarModel.getPrevYear(this.activeDate);\n  }\n  nextYearsPage() {\n    this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Year, this.yearPerPage);\n  }\n  previousYearsPage() {\n    this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Year, -this.yearPerPage);\n  }\n  navigateNext() {\n    if (this.activeView === 'days') {\n      this.nextMonth();\n    } else if (this.activeView === 'months') {\n      this.nextYear();\n    } else if (this.activeView === 'years') {\n      this.nextYearsPage();\n    }\n  }\n  navigatePrevious() {\n    if (this.activeView === 'days') {\n      this.previousMonth();\n    } else if (this.activeView === 'months') {\n      this.previousYear();\n    } else if (this.activeView === 'years') {\n      this.previousYearsPage();\n    }\n  }\n  renderNavigation(activeDate, renderButtons = true, daysViewIndex = 0) {\n    activeDate = activeDate !== null && activeDate !== void 0 ? activeDate : this.activeDate;\n    let startYear = undefined;\n    let endYear = undefined;\n    if (this.activeView === 'years') {\n      startYear = calculateYearsRangeStart(activeDate, this.yearPerPage);\n      endYear = startYear + this.yearPerPage - 1;\n    }\n    return html`<div part=\"navigation\">\n      <div>\n        ${this.activeView === 'days' ? html`<button\n              part=\"months-navigation\"\n              aria-label=${this.monthSelectLabel(activeDate)}\n              @click=${() => this.switchToMonths(daysViewIndex)}\n            >\n              ${this.formattedMonth(activeDate)}\n            </button>` : ''}\n        ${this.activeView === 'days' || this.activeView === 'months' ? html`<span class=\"aria-off-screen\" aria-live=\"polite\">\n                ${this.activeView === 'days' ? activeDate.toLocaleString(this.locale, {\n      month: 'long',\n      year: 'numeric'\n    }) : activeDate.getFullYear()}\n              </span>\n              <button\n                part=\"years-navigation\"\n                aria-label=${this.yearSelectLabel(activeDate)}\n                @click=${() => this.switchToYears(daysViewIndex)}\n              >\n                ${activeDate.getFullYear()}\n              </button>` : ''}\n        ${this.activeView === 'years' ? html`<span part=\"years-range\" aria-live=\"polite\"\n              >${`${startYear} - ${endYear}`}</span\n            >` : ''}\n      </div>\n      ${renderButtons ? html`<div part=\"navigation-buttons\">\n            <button\n              part=${partNameMap({\n      'navigation-button': true,\n      vertical: this.orientation === 'vertical'\n    })}\n              aria-label=${this.previousButtonLabel}\n              @click=${this.navigatePrevious}\n            >\n              <igc-icon\n                aria-hidden=\"true\"\n                name=\"navigate_before\"\n                collection=\"internal\"\n              ></igc-icon>\n            </button>\n            <button\n              part=${partNameMap({\n      'navigation-button': true,\n      vertical: this.orientation === 'vertical'\n    })}\n              aria-label=${this.nextButtonLabel}\n              @click=${this.navigateNext}\n            >\n              <igc-icon\n                aria-hidden=\"true\"\n                name=\"navigate_next\"\n                collection=\"internal\"\n              ></igc-icon>\n            </button>\n          </div>` : ''}\n    </div>`;\n  }\n  renderHeader() {\n    if (this.hideHeader || this.selection === 'multiple') {\n      return '';\n    }\n    return html`<div part=\"header\">\n      <h5 part=\"header-title\">\n        <slot name=\"title\"\n          >${this.selection === 'single' ? this.resourceStrings.selectDate : this.resourceStrings.selectRange}</slot\n        >\n      </h5>\n      <h2 part=\"header-date\">${this.renderHeaderDate()}</h2>\n    </div>`;\n  }\n  renderHeaderDate() {\n    if (this.selection === 'single') {\n      const date = this.value;\n      return html`${date ? html`${this.formatterWeekday.format(date)},${this.headerOrientation === 'vertical' ? html`<br />` : ' '}${this.formatterMonthDay.format(date)}` : this.resourceStrings.selectedDate}`;\n    }\n    const dates = this.values;\n    return html`<span\n        >${dates && dates.length ? this.formatterMonthDay.format(dates[0]) : this.resourceStrings.startDate}</span\n      >\n      <span> - </span>\n      <span\n        >${dates && dates.length > 1 ? this.formatterMonthDay.format(dates[dates.length - 1]) : this.resourceStrings.endDate}</span\n      >`;\n  }\n  render() {\n    const activeDates = [];\n    const monthsCount = this.visibleMonths > 1 ? this.visibleMonths : 1;\n    for (let i = 0; i < monthsCount; i++) {\n      activeDates.push(this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Month, i - this.activeDaysViewIndex));\n    }\n    return html`\n      ${this.renderHeader()}\n      <div\n        part=\"content\"\n        style=${styleMap({\n      display: 'flex',\n      flexGrow: '1',\n      flexDirection: this.activeView === 'days' ? this.orientation === 'horizontal' ? 'row' : 'column' : 'column'\n    })}\n        @keydown=${this.handleKeyDown}\n      >\n        ${this.activeView === 'days' ? activeDates.map((activeDate, i) => html`<div part=\"days-view-container\">\n                ${this.renderNavigation(activeDate, this.orientation === 'horizontal' ? i === activeDates.length - 1 : i === 0, i)}\n                <igc-days-view\n                  part=\"days-view\"\n                  .active=${this.activeDaysViewIndex === i}\n                  .activeDate=${activeDate}\n                  .weekStart=${this.weekStart}\n                  .weekDayFormat=${this.formatOptions.weekday}\n                  .locale=${this.locale}\n                  .selection=${this.selection}\n                  .value=${this.value}\n                  .values=${this.values}\n                  .hideLeadingDays=${this.hideOutsideDays || i !== 0}\n                  .hideTrailingDays=${this.hideOutsideDays || i !== activeDates.length - 1}\n                  .showWeekNumbers=${this.showWeekNumbers}\n                  .disabledDates=${this.disabledDates}\n                  .specialDates=${this.specialDates}\n                  .rangePreviewDate=${this.rangePreviewDate}\n                  .resourceStrings=${this.resourceStrings}\n                  exportparts=\"days-row, label, date-inner, week-number-inner, week-number, date, first, last, selected, inactive, hidden, current, weekend, range, special, disabled, single, preview\"\n                  @igcChange=${this.changeValue}\n                  @igcActiveDateChange=${this.activeDateChanged}\n                  @igcRangePreviewDateChange=${this.rangePreviewDateChange}\n                ></igc-days-view>\n              </div>`) : ''}\n        ${this.activeView === 'months' ? html` ${this.renderNavigation()}\n              <igc-months-view\n                part=\"months-view\"\n                .value=${this.activeDate}\n                .locale=${this.locale}\n                .monthFormat=${this.formatOptions.month}\n                exportparts=\"month, selected, month-inner, current\"\n                @igcChange=${this.changeMonth}\n              ></igc-months-view>` : ''}\n        ${this.activeView === 'years' ? html`${this.renderNavigation()}\n              <igc-years-view\n                part=\"years-view\"\n                .value=${this.activeDate}\n                .yearsPerPage=${this.yearPerPage}\n                exportparts=\"year, selected, year-inner, current\"\n                @igcChange=${this.changeYear}\n              ></igc-years-view>` : ''}\n      </div>\n    `;\n  }\n};\nIgcCalendarComponent.styles = styles;\nIgcCalendarComponent.tagName = 'igc-calendar';\n__decorate([state()], IgcCalendarComponent.prototype, \"rangePreviewDate\", void 0);\n__decorate([state()], IgcCalendarComponent.prototype, \"activeDaysViewIndex\", void 0);\n__decorate([queryAll('igc-days-view')], IgcCalendarComponent.prototype, \"daysViews\", void 0);\n__decorate([query('igc-months-view')], IgcCalendarComponent.prototype, \"monthsView\", void 0);\n__decorate([query('igc-years-view')], IgcCalendarComponent.prototype, \"yearsView\", void 0);\n__decorate([property({\n  type: Boolean,\n  attribute: 'hide-outside-days'\n})], IgcCalendarComponent.prototype, \"hideOutsideDays\", void 0);\n__decorate([property({\n  type: Boolean,\n  attribute: 'hide-header'\n})], IgcCalendarComponent.prototype, \"hideHeader\", void 0);\n__decorate([property({\n  attribute: 'header-orientation',\n  reflect: true\n})], IgcCalendarComponent.prototype, \"headerOrientation\", void 0);\n__decorate([property()], IgcCalendarComponent.prototype, \"orientation\", void 0);\n__decorate([property({\n  type: Number,\n  attribute: 'visible-months'\n})], IgcCalendarComponent.prototype, \"visibleMonths\", void 0);\n__decorate([property({\n  attribute: 'active-view'\n})], IgcCalendarComponent.prototype, \"activeView\", void 0);\n__decorate([property({\n  attribute: false\n})], IgcCalendarComponent.prototype, \"formatOptions\", void 0);\n__decorate([property({\n  attribute: false\n})], IgcCalendarComponent.prototype, \"resourceStrings\", void 0);\n__decorate([watch('formatOptions'), watch('locale')], IgcCalendarComponent.prototype, \"formattersChange\", null);\nIgcCalendarComponent = __decorate([themes({\n  bootstrap,\n  fluent\n})], IgcCalendarComponent);\nexport default IgcCalendarComponent;","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","html","property","query","queryAll","state","styleMap","IgcCalendarResourceStringEN","EventEmitterMixin","SizableMixin","partNameMap","IgcCalendarBaseComponent","MONTHS_PER_ROW","YEARS_PER_ROW","TimeDeltaInterval","calculateYearsRangeStart","setDateSafe","styles","bootstrap","fluent","themes","watch","defineComponents","IgcYearsViewComponent","IgcDaysViewComponent","IgcMonthsViewComponent","IgcIconComponent","IgcCalendarComponent","formattersChange","initFormatters","constructor","activeDaysViewIndex","hideOutsideDays","hideHeader","headerOrientation","orientation","visibleMonths","activeView","formatOptions","month","weekday","resourceStrings","handleKeyDown","event","tagName","toLowerCase","preventDefault","shiftKey","nextYear","navigateNext","focusActiveDate","previousYear","navigatePrevious","firstDaysView","daysViews","activeDate","date","Date","setDate","setMonth","startYear","yearPerPage","setFullYear","getDate","index","lastDaysView","getMonth","calendarModel","timedelta","Day","activeDayView","activeMonthDate","previousMonth","nextMonth","Week","Month","Year","size","previousButtonLabel","previousYears","replace","toString","nextButtonLabel","nextYears","monthSelectLabel","toLocaleString","locale","selectMonth","yearSelectLabel","getFullYear","selectYear","updateComplete","daysView","monthsView","yearsView","formatterMonth","Intl","DateTimeFormat","formatterWeekday","formatterMonthDay","day","formattedMonth","value","format","changeValue","stopPropagation","newValue","selection","values","emitEvent","detail","changeMonth","changeYear","switchToMonths","daysViewIndex","activateDaysView","switchToYears","activeDaysView","activeDateChanged","Array","from","indexOf","isCurrentMonth","rangePreviewDateChange","rangePreviewDate","getNextMonth","getPrevMonth","getNextYear","getPrevYear","nextYearsPage","previousYearsPage","renderNavigation","renderButtons","undefined","endYear","year","vertical","renderHeader","selectDate","selectRange","renderHeaderDate","selectedDate","dates","startDate","endDate","render","activeDates","monthsCount","push","display","flexGrow","flexDirection","map","weekStart","showWeekNumbers","disabledDates","specialDates","prototype","type","Boolean","attribute","reflect","Number"],"sources":["/Users/tima/kbtu/4thSemester/web/Lab4/angular/node_modules/igniteui-webcomponents/components/calendar/calendar.js"],"sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { html } from 'lit';\nimport { property, query, queryAll, state } from 'lit/decorators.js';\nimport { styleMap } from 'lit/directives/style-map.js';\nimport { IgcCalendarResourceStringEN, } from '../common/i18n/calendar.resources.js';\nimport { EventEmitterMixin } from '../common/mixins/event-emitter.js';\nimport { SizableMixin } from '../common/mixins/sizable.js';\nimport { partNameMap } from '../common/util.js';\nimport { IgcCalendarBaseComponent, MONTHS_PER_ROW, YEARS_PER_ROW, } from './common/calendar-base.js';\nimport { TimeDeltaInterval } from './common/calendar.model.js';\nimport { calculateYearsRangeStart, setDateSafe } from './common/utils.js';\nimport { styles as bootstrap } from './themes/bootstrap/calendar.bootstrap.css.js';\nimport { styles } from './themes/calendar.base.css.js';\nimport { styles as fluent } from './themes/fluent/calendar.fluent.css.js';\nimport { themes } from '../../theming/theming-decorator.js';\nimport { watch } from '../common/decorators/watch.js';\nimport { defineComponents } from '../common/definitions/defineComponents.js';\nimport IgcYearsViewComponent from './years-view/years-view.js';\nimport IgcDaysViewComponent from './days-view/days-view.js';\nimport IgcMonthsViewComponent from './months-view/months-view.js';\nimport IgcIconComponent from '../icon/icon.js';\ndefineComponents(IgcIconComponent, IgcDaysViewComponent, IgcMonthsViewComponent, IgcYearsViewComponent);\nlet IgcCalendarComponent = class IgcCalendarComponent extends SizableMixin(EventEmitterMixin(IgcCalendarBaseComponent)) {\n    formattersChange() {\n        this.initFormatters();\n    }\n    constructor() {\n        super();\n        this.activeDaysViewIndex = 0;\n        this.hideOutsideDays = false;\n        this.hideHeader = false;\n        this.headerOrientation = 'horizontal';\n        this.orientation = 'horizontal';\n        this.visibleMonths = 1;\n        this.activeView = 'days';\n        this.formatOptions = {\n            month: 'long',\n            weekday: 'narrow',\n        };\n        this.resourceStrings = IgcCalendarResourceStringEN;\n        this.handleKeyDown = (event) => {\n            const tagName = event.target.tagName.toLowerCase();\n            if (tagName !== 'igc-days-view' &&\n                tagName !== 'igc-months-view' &&\n                tagName !== 'igc-years-view') {\n                return;\n            }\n            switch (event.key) {\n                case 'PageDown':\n                    event.preventDefault();\n                    if (event.shiftKey && this.activeView === 'days') {\n                        this.nextYear();\n                    }\n                    else {\n                        this.navigateNext();\n                    }\n                    if (this.activeView === 'days') {\n                        this.focusActiveDate();\n                    }\n                    break;\n                case 'PageUp':\n                    event.preventDefault();\n                    if (event.shiftKey && this.activeView === 'days') {\n                        this.previousYear();\n                    }\n                    else {\n                        this.navigatePrevious();\n                    }\n                    if (this.activeView === 'days') {\n                        this.focusActiveDate();\n                    }\n                    break;\n                case 'Home':\n                    event.preventDefault();\n                    if (this.activeView === 'days') {\n                        const firstDaysView = this.daysViews[0];\n                        const activeDate = firstDaysView.activeDate;\n                        const date = new Date(activeDate);\n                        date.setDate(1);\n                        this.activeDate = date;\n                        this.activeDaysViewIndex = 0;\n                    }\n                    else if (this.activeView === 'months') {\n                        const date = new Date(this.activeDate);\n                        date.setMonth(0);\n                        this.activeDate = date;\n                    }\n                    else if (this.activeView === 'years') {\n                        const startYear = calculateYearsRangeStart(this.activeDate, this.yearPerPage);\n                        const date = new Date(this.activeDate);\n                        date.setDate(1);\n                        date.setFullYear(startYear);\n                        setDateSafe(date, this.activeDate.getDate());\n                        this.activeDate = date;\n                    }\n                    this.focusActiveDate();\n                    break;\n                case 'End':\n                    event.preventDefault();\n                    if (this.activeView === 'days') {\n                        const index = this.daysViews.length - 1;\n                        const lastDaysView = this.daysViews[index];\n                        const activeDate = lastDaysView.activeDate;\n                        const date = new Date(activeDate);\n                        date.setDate(1);\n                        date.setMonth(date.getMonth() + 1);\n                        date.setDate(0);\n                        this.activeDate = date;\n                        this.activeDaysViewIndex = index;\n                    }\n                    else if (this.activeView === 'months') {\n                        const date = new Date(this.activeDate);\n                        date.setMonth(11);\n                        this.activeDate = date;\n                    }\n                    else if (this.activeView === 'years') {\n                        const startYear = calculateYearsRangeStart(this.activeDate, this.yearPerPage);\n                        const date = new Date(this.activeDate);\n                        date.setDate(1);\n                        date.setFullYear(startYear + this.yearPerPage - 1);\n                        setDateSafe(date, this.activeDate.getDate());\n                        this.activeDate = date;\n                    }\n                    this.focusActiveDate();\n                    break;\n                case 'ArrowLeft':\n                    event.preventDefault();\n                    if (this.activeView === 'days') {\n                        const date = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Day, -1);\n                        if (this.visibleMonths > 1) {\n                            const activeDayView = this.daysViews[this.activeDaysViewIndex];\n                            const activeMonthDate = activeDayView.activeDate;\n                            if (activeMonthDate.getMonth() !== date.getMonth()) {\n                                this.activeDaysViewIndex =\n                                    this.activeDaysViewIndex > 0 ? this.activeDaysViewIndex - 1 : 0;\n                            }\n                        }\n                        this.activeDate = date;\n                    }\n                    else if (this.activeView === 'months') {\n                        this.previousMonth();\n                    }\n                    else if (this.activeView === 'years') {\n                        this.previousYear();\n                    }\n                    this.focusActiveDate();\n                    break;\n                case 'ArrowRight':\n                    event.preventDefault();\n                    if (this.activeView === 'days') {\n                        const date = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Day, 1);\n                        if (this.visibleMonths > 1) {\n                            const activeDayView = this.daysViews[this.activeDaysViewIndex];\n                            const activeMonthDate = activeDayView.activeDate;\n                            if (activeMonthDate.getMonth() !== date.getMonth()) {\n                                this.activeDaysViewIndex =\n                                    this.activeDaysViewIndex === this.visibleMonths - 1\n                                        ? this.activeDaysViewIndex\n                                        : this.activeDaysViewIndex + 1;\n                            }\n                        }\n                        this.activeDate = date;\n                    }\n                    else if (this.activeView === 'months') {\n                        this.nextMonth();\n                    }\n                    else if (this.activeView === 'years') {\n                        this.nextYear();\n                    }\n                    this.focusActiveDate();\n                    break;\n                case 'ArrowUp':\n                    event.preventDefault();\n                    if (this.activeView === 'days') {\n                        const date = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Week, -1);\n                        if (this.visibleMonths > 1) {\n                            const activeDayView = this.daysViews[this.activeDaysViewIndex];\n                            const activeMonthDate = activeDayView.activeDate;\n                            if (activeMonthDate.getMonth() !== date.getMonth()) {\n                                this.activeDaysViewIndex =\n                                    this.activeDaysViewIndex > 0 ? this.activeDaysViewIndex - 1 : 0;\n                            }\n                        }\n                        this.activeDate = date;\n                    }\n                    else if (this.activeView === 'months') {\n                        this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Month, -MONTHS_PER_ROW);\n                    }\n                    else if (this.activeView === 'years') {\n                        this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Year, -YEARS_PER_ROW);\n                    }\n                    this.focusActiveDate();\n                    break;\n                case 'ArrowDown':\n                    event.preventDefault();\n                    if (this.activeView === 'days') {\n                        const date = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Week, 1);\n                        if (this.visibleMonths > 1) {\n                            const activeDayView = this.daysViews[this.activeDaysViewIndex];\n                            const activeMonthDate = activeDayView.activeDate;\n                            if (activeMonthDate.getMonth() !== date.getMonth()) {\n                                this.activeDaysViewIndex =\n                                    this.activeDaysViewIndex === this.visibleMonths - 1\n                                        ? this.activeDaysViewIndex\n                                        : this.activeDaysViewIndex + 1;\n                            }\n                        }\n                        this.activeDate = date;\n                    }\n                    else if (this.activeView === 'months') {\n                        this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Month, MONTHS_PER_ROW);\n                    }\n                    else if (this.activeView === 'years') {\n                        this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Year, YEARS_PER_ROW);\n                    }\n                    this.focusActiveDate();\n                    break;\n            }\n        };\n        this.initFormatters();\n    }\n    get yearPerPage() {\n        return this.size === 'small' ? 18 : 15;\n    }\n    get previousButtonLabel() {\n        return this.activeView === 'days'\n            ? this.resourceStrings.previousMonth\n            : this.activeView === 'months'\n                ? this.resourceStrings.previousYear\n                : this.activeView === 'years'\n                    ? this.resourceStrings.previousYears.replace('{0}', this.yearPerPage.toString())\n                    : '';\n    }\n    get nextButtonLabel() {\n        return this.activeView === 'days'\n            ? this.resourceStrings.nextMonth\n            : this.activeView === 'months'\n                ? this.resourceStrings.nextYear\n                : this.activeView === 'years'\n                    ? this.resourceStrings.nextYears.replace('{0}', this.yearPerPage.toString())\n                    : '';\n    }\n    monthSelectLabel(activeDate) {\n        return (activeDate.toLocaleString(this.locale, {\n            month: 'long',\n        }) +\n            ', ' +\n            this.resourceStrings.selectMonth);\n    }\n    yearSelectLabel(activeDate) {\n        return activeDate.getFullYear() + ', ' + this.resourceStrings.selectYear;\n    }\n    async focusActiveDate() {\n        await this.updateComplete;\n        if (this.activeView === 'days') {\n            const daysView = this.daysViews[this.activeDaysViewIndex];\n            daysView.focusActiveDate();\n        }\n        else if (this.activeView === 'months') {\n            this.monthsView.focusActiveDate();\n        }\n        else if (this.activeView === 'years') {\n            this.yearsView.focusActiveDate();\n        }\n    }\n    initFormatters() {\n        this.formatterMonth = new Intl.DateTimeFormat(this.locale, {\n            month: this.formatOptions.month,\n        });\n        this.formatterWeekday = new Intl.DateTimeFormat(this.locale, {\n            weekday: 'short',\n        });\n        this.formatterMonthDay = new Intl.DateTimeFormat(this.locale, {\n            month: 'short',\n            day: 'numeric',\n        });\n    }\n    formattedMonth(value) {\n        return this.formatterMonth.format(value);\n    }\n    changeValue(event) {\n        event.stopPropagation();\n        const daysView = event.target;\n        let newValue;\n        if (this.selection === 'single') {\n            this.value = daysView.value;\n            newValue = this.value;\n        }\n        else {\n            this.values = daysView.values;\n            newValue = this.values;\n        }\n        this.emitEvent('igcChange', { detail: newValue });\n    }\n    changeMonth(event) {\n        event.stopPropagation();\n        this.activeDate = event.target.value;\n        this.activeView = 'days';\n        this.focusActiveDate();\n    }\n    changeYear(event) {\n        event.stopPropagation();\n        this.activeDate = event.target.value;\n        this.activeView = 'months';\n        this.focusActiveDate();\n    }\n    switchToMonths(daysViewIndex) {\n        this.activateDaysView(daysViewIndex);\n        this.activeView = 'months';\n    }\n    switchToYears(daysViewIndex) {\n        if (this.activeView === 'days') {\n            this.activateDaysView(daysViewIndex);\n        }\n        this.activeView = 'years';\n    }\n    activateDaysView(daysViewIndex) {\n        const activeDaysView = this.daysViews[daysViewIndex];\n        this.activeDate = activeDaysView.activeDate;\n        this.activeDaysViewIndex = daysViewIndex;\n    }\n    activeDateChanged(event) {\n        const day = event.detail;\n        const daysViews = Array.from(this.daysViews);\n        this.activeDaysViewIndex = daysViews.indexOf(event.target);\n        this.activeDate = day.date;\n        if (!day.isCurrentMonth) {\n            this.focusActiveDate();\n        }\n    }\n    rangePreviewDateChange(event) {\n        this.rangePreviewDate = event.detail;\n    }\n    nextMonth() {\n        this.activeDate = this.calendarModel.getNextMonth(this.activeDate);\n    }\n    previousMonth() {\n        this.activeDate = this.calendarModel.getPrevMonth(this.activeDate);\n    }\n    nextYear() {\n        this.activeDate = this.calendarModel.getNextYear(this.activeDate);\n    }\n    previousYear() {\n        this.activeDate = this.calendarModel.getPrevYear(this.activeDate);\n    }\n    nextYearsPage() {\n        this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Year, this.yearPerPage);\n    }\n    previousYearsPage() {\n        this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Year, -this.yearPerPage);\n    }\n    navigateNext() {\n        if (this.activeView === 'days') {\n            this.nextMonth();\n        }\n        else if (this.activeView === 'months') {\n            this.nextYear();\n        }\n        else if (this.activeView === 'years') {\n            this.nextYearsPage();\n        }\n    }\n    navigatePrevious() {\n        if (this.activeView === 'days') {\n            this.previousMonth();\n        }\n        else if (this.activeView === 'months') {\n            this.previousYear();\n        }\n        else if (this.activeView === 'years') {\n            this.previousYearsPage();\n        }\n    }\n    renderNavigation(activeDate, renderButtons = true, daysViewIndex = 0) {\n        activeDate = activeDate !== null && activeDate !== void 0 ? activeDate : this.activeDate;\n        let startYear = undefined;\n        let endYear = undefined;\n        if (this.activeView === 'years') {\n            startYear = calculateYearsRangeStart(activeDate, this.yearPerPage);\n            endYear = startYear + this.yearPerPage - 1;\n        }\n        return html `<div part=\"navigation\">\n      <div>\n        ${this.activeView === 'days'\n            ? html `<button\n              part=\"months-navigation\"\n              aria-label=${this.monthSelectLabel(activeDate)}\n              @click=${() => this.switchToMonths(daysViewIndex)}\n            >\n              ${this.formattedMonth(activeDate)}\n            </button>`\n            : ''}\n        ${this.activeView === 'days' || this.activeView === 'months'\n            ? html `<span class=\"aria-off-screen\" aria-live=\"polite\">\n                ${this.activeView === 'days'\n                ? activeDate.toLocaleString(this.locale, {\n                    month: 'long',\n                    year: 'numeric',\n                })\n                : activeDate.getFullYear()}\n              </span>\n              <button\n                part=\"years-navigation\"\n                aria-label=${this.yearSelectLabel(activeDate)}\n                @click=${() => this.switchToYears(daysViewIndex)}\n              >\n                ${activeDate.getFullYear()}\n              </button>`\n            : ''}\n        ${this.activeView === 'years'\n            ? html `<span part=\"years-range\" aria-live=\"polite\"\n              >${`${startYear} - ${endYear}`}</span\n            >`\n            : ''}\n      </div>\n      ${renderButtons\n            ? html `<div part=\"navigation-buttons\">\n            <button\n              part=${partNameMap({\n                'navigation-button': true,\n                vertical: this.orientation === 'vertical',\n            })}\n              aria-label=${this.previousButtonLabel}\n              @click=${this.navigatePrevious}\n            >\n              <igc-icon\n                aria-hidden=\"true\"\n                name=\"navigate_before\"\n                collection=\"internal\"\n              ></igc-icon>\n            </button>\n            <button\n              part=${partNameMap({\n                'navigation-button': true,\n                vertical: this.orientation === 'vertical',\n            })}\n              aria-label=${this.nextButtonLabel}\n              @click=${this.navigateNext}\n            >\n              <igc-icon\n                aria-hidden=\"true\"\n                name=\"navigate_next\"\n                collection=\"internal\"\n              ></igc-icon>\n            </button>\n          </div>`\n            : ''}\n    </div>`;\n    }\n    renderHeader() {\n        if (this.hideHeader || this.selection === 'multiple') {\n            return '';\n        }\n        return html `<div part=\"header\">\n      <h5 part=\"header-title\">\n        <slot name=\"title\"\n          >${this.selection === 'single'\n            ? this.resourceStrings.selectDate\n            : this.resourceStrings.selectRange}</slot\n        >\n      </h5>\n      <h2 part=\"header-date\">${this.renderHeaderDate()}</h2>\n    </div>`;\n    }\n    renderHeaderDate() {\n        if (this.selection === 'single') {\n            const date = this.value;\n            return html `${date\n                ? html `${this.formatterWeekday.format(date)},${this\n                    .headerOrientation === 'vertical'\n                    ? html `<br />`\n                    : ' '}${this.formatterMonthDay.format(date)}`\n                : this.resourceStrings.selectedDate}`;\n        }\n        const dates = this.values;\n        return html `<span\n        >${dates && dates.length\n            ? this.formatterMonthDay.format(dates[0])\n            : this.resourceStrings.startDate}</span\n      >\n      <span> - </span>\n      <span\n        >${dates && dates.length > 1\n            ? this.formatterMonthDay.format(dates[dates.length - 1])\n            : this.resourceStrings.endDate}</span\n      >`;\n    }\n    render() {\n        const activeDates = [];\n        const monthsCount = this.visibleMonths > 1 ? this.visibleMonths : 1;\n        for (let i = 0; i < monthsCount; i++) {\n            activeDates.push(this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Month, i - this.activeDaysViewIndex));\n        }\n        return html `\n      ${this.renderHeader()}\n      <div\n        part=\"content\"\n        style=${styleMap({\n            display: 'flex',\n            flexGrow: '1',\n            flexDirection: this.activeView === 'days'\n                ? this.orientation === 'horizontal'\n                    ? 'row'\n                    : 'column'\n                : 'column',\n        })}\n        @keydown=${this.handleKeyDown}\n      >\n        ${this.activeView === 'days'\n            ? activeDates.map((activeDate, i) => html `<div part=\"days-view-container\">\n                ${this.renderNavigation(activeDate, this.orientation === 'horizontal'\n                ? i === activeDates.length - 1\n                : i === 0, i)}\n                <igc-days-view\n                  part=\"days-view\"\n                  .active=${this.activeDaysViewIndex === i}\n                  .activeDate=${activeDate}\n                  .weekStart=${this.weekStart}\n                  .weekDayFormat=${this.formatOptions.weekday}\n                  .locale=${this.locale}\n                  .selection=${this.selection}\n                  .value=${this.value}\n                  .values=${this.values}\n                  .hideLeadingDays=${this.hideOutsideDays || i !== 0}\n                  .hideTrailingDays=${this.hideOutsideDays ||\n                i !== activeDates.length - 1}\n                  .showWeekNumbers=${this.showWeekNumbers}\n                  .disabledDates=${this.disabledDates}\n                  .specialDates=${this.specialDates}\n                  .rangePreviewDate=${this.rangePreviewDate}\n                  .resourceStrings=${this.resourceStrings}\n                  exportparts=\"days-row, label, date-inner, week-number-inner, week-number, date, first, last, selected, inactive, hidden, current, weekend, range, special, disabled, single, preview\"\n                  @igcChange=${this.changeValue}\n                  @igcActiveDateChange=${this.activeDateChanged}\n                  @igcRangePreviewDateChange=${this.rangePreviewDateChange}\n                ></igc-days-view>\n              </div>`)\n            : ''}\n        ${this.activeView === 'months'\n            ? html ` ${this.renderNavigation()}\n              <igc-months-view\n                part=\"months-view\"\n                .value=${this.activeDate}\n                .locale=${this.locale}\n                .monthFormat=${this.formatOptions.month}\n                exportparts=\"month, selected, month-inner, current\"\n                @igcChange=${this.changeMonth}\n              ></igc-months-view>`\n            : ''}\n        ${this.activeView === 'years'\n            ? html `${this.renderNavigation()}\n              <igc-years-view\n                part=\"years-view\"\n                .value=${this.activeDate}\n                .yearsPerPage=${this.yearPerPage}\n                exportparts=\"year, selected, year-inner, current\"\n                @igcChange=${this.changeYear}\n              ></igc-years-view>`\n            : ''}\n      </div>\n    `;\n    }\n};\nIgcCalendarComponent.styles = styles;\nIgcCalendarComponent.tagName = 'igc-calendar';\n__decorate([\n    state()\n], IgcCalendarComponent.prototype, \"rangePreviewDate\", void 0);\n__decorate([\n    state()\n], IgcCalendarComponent.prototype, \"activeDaysViewIndex\", void 0);\n__decorate([\n    queryAll('igc-days-view')\n], IgcCalendarComponent.prototype, \"daysViews\", void 0);\n__decorate([\n    query('igc-months-view')\n], IgcCalendarComponent.prototype, \"monthsView\", void 0);\n__decorate([\n    query('igc-years-view')\n], IgcCalendarComponent.prototype, \"yearsView\", void 0);\n__decorate([\n    property({ type: Boolean, attribute: 'hide-outside-days' })\n], IgcCalendarComponent.prototype, \"hideOutsideDays\", void 0);\n__decorate([\n    property({ type: Boolean, attribute: 'hide-header' })\n], IgcCalendarComponent.prototype, \"hideHeader\", void 0);\n__decorate([\n    property({ attribute: 'header-orientation', reflect: true })\n], IgcCalendarComponent.prototype, \"headerOrientation\", void 0);\n__decorate([\n    property()\n], IgcCalendarComponent.prototype, \"orientation\", void 0);\n__decorate([\n    property({ type: Number, attribute: 'visible-months' })\n], IgcCalendarComponent.prototype, \"visibleMonths\", void 0);\n__decorate([\n    property({ attribute: 'active-view' })\n], IgcCalendarComponent.prototype, \"activeView\", void 0);\n__decorate([\n    property({ attribute: false })\n], IgcCalendarComponent.prototype, \"formatOptions\", void 0);\n__decorate([\n    property({ attribute: false })\n], IgcCalendarComponent.prototype, \"resourceStrings\", void 0);\n__decorate([\n    watch('formatOptions'),\n    watch('locale')\n], IgcCalendarComponent.prototype, \"formattersChange\", null);\nIgcCalendarComponent = __decorate([\n    themes({\n        bootstrap,\n        fluent,\n    })\n], IgcCalendarComponent);\nexport default IgcCalendarComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}